!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){r[e]=n},n.parcelRequired7c6=a);var o=a("bpxeT"),c=a("q7ZX2"),i=a("8nrFW"),s=a("2TvXO"),u=a("dIxxU"),l={searchForm:document.querySelector(".header_input-wrap"),inputEl:document.querySelector(".header_input"),moviesContainer:document.querySelector(".main-container--card__box"),errorText:document.querySelector(".header_error-msg")},d="",p="https://api.themoviedb.org/3/search/movie",f="2994e3a31c3cad99fd99bf3fe61d916f";function h(e){return m.apply(this,arguments)}function m(){return(m=e(o)(e(s).mark((function n(t){return e(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(u).get("".concat(p,"?api_key=").concat(f,"&language=en-US&query=").concat(t)).then((function(e){return e.data}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(){return(g=e(o)(e(s).mark((function n(t){var r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d=t.currentTarget.elements.query.value.trim(),console.log(d),l.errorText.classList.add("is-hidden"),""!==d){e.next=6;break}return e.abrupt("return",l.errorText.classList.remove("is-hidden"));case 6:return e.prev=6,e.next=9,h(d);case 9:if(0!==(r=e.sent).total_pages){e.next=12;break}return e.abrupt("return",l.errorText.classList.remove("is-hidden"));case 12:x(),l.errorText.classList.add("is-hidden"),v(r.results),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log(e.t0);case 20:l.inputEl.value="";case 21:case"end":return e.stop()}}),n,null,[[6,17]])})))).apply(this,arguments)}function v(n){var t=n.map((function(n){return'\n            <li class="main-container--card">\n            <img src = "https://image.tmdb.org/t/p/w500'.concat(n.poster_path,'"\n            class = "film-poster"\n            alt="').concat(n.original_title,'" loading="lazy"\n             />\n            <div class="film-info">\n            <h3 class="film-title">').concat(n.original_title.toUpperCase(),'</h3>\n            <p class="more-info">').concat(function(n){for(var t,r=e(c)(n).slice(0),a=localStorage.getItem("GENRES"),o=JSON.parse(a),s=e(i)(r),u=0;u<o.length;u++)for(var l=0;l<s.length;l++)s[l]===o[u].id&&(t=o[u].name,s[l]=t);if(s.length>3)return"".concat(s[0],", ").concat(s[1],", Other");if(s.length>2)return"".concat(s[0],", ").concat(s[1],", ").concat(s[2]);if(s.length>1)return"".concat(s[0],", ").concat(s[1]);return"".concat(s[0])}(n.genre_ids)," | ").concat(n.release_date.slice(0,4),"</p>\n            </div>\n            </li> ")})).join("");l.moviesContainer.insertAdjacentHTML("beforeend",t)}function x(){l.moviesContainer.innerHTML=""}l.searchForm.addEventListener("submit",(function(e){return g.apply(this,arguments)}))}();
//# sourceMappingURL=index.afd39a9a.js.map

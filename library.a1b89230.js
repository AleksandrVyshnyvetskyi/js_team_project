!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,a,n){Object.defineProperty(e,t,{get:a,set:n,enumerable:!0,configurable:!0})}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},r=a.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){s[e]=t},a.parcelRequired7c6=r),r.register("jcFG7",(function(a,n){t(a.exports,"default",(function(){return g}));var i=r("8MBJY"),s=r("a2hTj"),o=(document.querySelector(".main-container--card__box"),document.querySelector(".pagination")),c=o.querySelector(".pagination__list"),l=o.querySelector('[name="prev"]'),d=o.querySelector('[name="next"]'),u=document.getElementById("section__pagination");u.style.display="none";var g=function(){"use strict";function t(){e(i)(this,t),this.currentPage=1,this.totalPages=0,this.callback=function(){},this.init()}return e(s)(t,[{key:"init",value:function(){var e=this;c.addEventListener("click",this.onClickPages.bind(this)),l.addEventListener("click",this.onClickBtnPrev.bind(this)),d.addEventListener("click",this.onClickBtnNext.bind(this)),window.addEventListener("resize",(function(){localStorage.getItem("CALLBACK")===e.callback.name&&e.renderPagination()}))}},{key:"renderPagination",value:function(){if(u.style.display="block",d.classList.remove("disabled"),l.classList.remove("disabled"),window.innerWidth<768){if(this.currentPage===this.totalPages&&d.classList.add("disabled"),1===this.currentPage&&l.classList.add("disabled"),this.totalPages<=5)return void this.createPagination(!1,2,this.totalPages);if(this.totalPages>5){if(this.currentPage<=3&&this.createPagination(!1,2,5,!1,!1),this.currentPage>3&&this.currentPage<this.totalPages-1)return void this.createPagination(!1,this.currentPage-2,this.currentPage+2,!1,!1,!1);this.currentPage>this.totalPages-2&&this.createPagination(!1,this.totalPages-5,this.totalPages,!1,!1,!1)}}else if(1!==this.totalPages){if(this.totalPages<=9&&this.createPagination(this.totalPages,2,this.totalPages-1),this.totalPages>9){if(1===this.currentPage&&l.classList.add("disabled"),this.currentPage<5)return void this.createPagination(this.totalPages,2,7,!1,!0);if(this.currentPage>4&&this.currentPage<this.totalPages-5)return void this.createPagination(this.totalPages,this.currentPage-2,this.currentPage+2,!0,!0);if(this.currentPage!==this.totalPages&&this.currentPage>this.totalPages-6)return void this.createPagination(this.totalPages,this.totalPages-6,this.totalPages-1,!0,!1);if(this.currentPage===this.totalPages)return this.createPagination(this.totalPages,this.currentPage-6,this.currentPage-1,!0,!1),void d.classList.add("disabled")}}else o.classList.add("hidden")}},{key:"createPagination",value:function(e,t,a,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;if(c.innerHTML="",s){var r=1===this.currentPage?" active":"";c.insertAdjacentHTML("beforeend",'<button class="pagination__link'.concat(r,'" name="page">1</button>'))}n&&c.insertAdjacentHTML("beforeend",'<span class="pagination__link disabled">...</span>');for(var o=t;o<=a;o+=1){var l=o==this.currentPage?" active":"";c.insertAdjacentHTML("beforeend",'<button class="pagination__link'.concat(l,'" name="page">').concat(o,"</button>"))}if(i&&c.insertAdjacentHTML("beforeend",'<span class="pagination__link disabled">...</span>'),e){var d=this.currentPage===this.totalPages?" active":"";c.insertAdjacentHTML("beforeend",'<button class="pagination__link'.concat(d,'" name="page">').concat(e,"</button>"))}}},{key:"onClickPages",value:function(e){"BUTTON"===e.target.nodeName&&(o.classList.add("hidden"),this.currentPage=1*e.target.textContent,window.scrollTo({top:0,behavior:"smooth"}),this.callbackRun(),o.classList.remove("hidden"))}},{key:"onClickBtnPrev",value:function(){this.currentPage>1&&(o.classList.add("hidden"),window.scrollTo({top:0,behavior:"smooth"}),this.currentPage-=1,this.callbackRun(),o.classList.remove("hidden"))}},{key:"onClickBtnNext",value:function(){this.currentPage!==this.totalPages&&(o.classList.add("hidden"),window.scrollTo({top:0,behavior:"smooth"}),this.currentPage+=1,this.callbackRun(),o.classList.remove("hidden"))}},{key:"callbackRun",value:function(){localStorage.getItem("CALLBACK")===this.callback.name&&this.callback(this.currentPage)}},{key:"setCurrentPage",set:function(e){this.currentPage=e}},{key:"setTotalPages",set:function(e){this.totalPages=e}},{key:"setCallback",set:function(e){localStorage.setItem("CALLBACK",e.name),this.callback=e}}]),t}()})),r.register("5u73R",(function(a,n){t(a.exports,"renderMoviesCard",(function(){return c}));var i=r("q7ZX2"),s=r("8nrFW"),o=r("4Nugj");function c(t){if(t!==[]&&void 0!==t){var a=t.map((function(t){var a,n,r=null!==(n=null!==(a=t.release_date)&&void 0!==a?a:t.first_air_date)&&void 0!==n?n:null;return r=null!==r?r.slice(0,4):"",'\n          <li class="main-container--card"\n      data-modal-open>\n      <img class="card-poster"\n      data-id="'.concat(t.id,'" \n      src="').concat(t.poster_path?"".concat("https://image.tmdb.org/t/p/w500").concat(t.poster_path):"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg",'"\n      alt="').concat(t.original_name,'" loading="lazy">\n      <div class="card-wrap">\n      <h2 class="card-title" data-id="').concat(t.id,'">').concat(t.original_title.toUpperCase()||t.title.toUpperCase(),'</h2>\n      <p class="card-info"> ').concat(function(t){for(var a,n=e(i)(t).slice(0),r=localStorage.getItem("GENRES"),o=JSON.parse(r),c=e(s)(n),l=0;l<o.length;l++)for(var d=0;d<c.length;d++)c[d]===o[l].id&&(a=o[l].name,c[d]=a);if(c.length>2)return"".concat(c[0],", ").concat(c[1],", Other");if(1===c.length)return"".concat(c[0]);if(0===c.length)return"No genre";return"".concat(c[0],", ").concat(c[1])}(t.genre_ids)," | ").concat(r,'<span class="card-rating"> ').concat(t.vote_average.toFixed(1),"</span></p>\n       </div>\n  </li>")})).join("");o.default.moviesContainer.insertAdjacentHTML("beforeend",a)}}})),r.register("q7ZX2",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return a.default(e)||n.default(e)||o.default(e,i)||s.default()};var a=c(r("8slrw")),n=c(r("7AJDX")),s=c(r("ifqQW")),o=c(r("auk6i"));function c(e){return e&&e.__esModule?e:{default:e}}})),r.register("kvC6y",(function(e,a){t(e.exports,"preloaderShow",(function(){return s})),t(e.exports,"hidePreloader",(function(){return r})),t(e.exports,"preloaderShowLonger",(function(){return o}));var n=document.getElementById("preloader"),i=document.querySelector(".loader");function s(){n.classList.add("is-open"),i.classList.add("is-open")}function r(){n.classList.remove("is-open"),i.classList.remove("is-open")}function o(){n.classList.add("is-open"),i.classList.add("is-open"),setTimeout((function(){n.classList.remove("is-open"),i.classList.remove("is-open")}),700)}}));var o=r("jcFG7"),c=r("5u73R"),l=r("kvC6y"),d=new(0,o.default),u={watched:document.querySelector(".header_btn-watched"),queue:document.querySelector(".header_btn-queue"),containerMovie:document.querySelector(".main-container--card__box"),emptyPage:document.querySelector(".empty_page"),paginationPage:document.querySelector("#section__pagination")},g=localStorage.getItem("QUEUE_LIST"),h=JSON.parse(g),f=10,p=0;function P(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,l.preloaderShowLonger)();for(var t=e||1,a=[],n=1;n<=Math.ceil(h.length/f);n+=1){var i=f*n,s=n>1?f*(n-1):0;f*n>h.length&&(i=h.length),a[n]=h.slice(s,i)}p=a.length-1,u.containerMovie.innerHTML="",(0,c.renderMoviesCard)(a[t]),p>1&&(d.setCurrentPage=t,d.setTotalPages=p,d.setCallback=P,d.renderPagination())}u.queue.addEventListener("click",(function(e){if(e.preventDefault(),u.containerMovie.innerHTML="",u.queue.classList.add("current-btn"),u.watched.classList.remove("current-btn"),u.queue.classList.remove("simple-btn"),u.watched.classList.add("simple-btn"),0===h.length)return u.emptyPage.classList.add("visible"),void(u.paginationPage.style.display="none");try{P(),u.emptyPage.classList.remove("visible")}catch(e){console.log(e)}})),0===h.length&&(u.emptyPage.classList.add("visible"),u.paginationPage.style.display="none")}();
//# sourceMappingURL=library.a1b89230.js.map

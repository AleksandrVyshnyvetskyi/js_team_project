!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o=a("bpxeT"),c=a("2TvXO"),i=a("dIxxU"),s=a("q7ZX2"),d=a("8nrFW"),l=a("4Nugj");a("4LMMA");var u="https://image.tmdb.org/t/p/w500";function p(e){var t=e.map((function(e){return'\n        <li class="main-container--card"\n        data-modal-open>\n        <img class="card-poster"\n        data-id="'.concat(e.id,'" \n        src="').concat(u).concat(e.poster_path,'" \n        alt="').concat(e.original_name,'" loading="lazy">\n        <div class="card-wrap">\n        <h2 class="card-title" data-id="').concat(e.id,'">').concat(e.original_title.toUpperCase()||e.title.toUpperCase()||e.title.toUpperCase(),'</h2>\n        <p class="card-info"> ').concat(f(e.genre_ids)," | ").concat((e.release_date||first_air_date).slice(0,4),' <span class="card-rating"> ').concat(e.vote_average.toFixed(1),"</span></p>\n         </div>\n    </li>")})).join("");l.default.moviesContainer.insertAdjacentHTML("beforeend",t)}function f(t){for(var n,r=e(s)(t).slice(0),a=localStorage.getItem("GENRES"),o=JSON.parse(a),c=e(d)(r),i=0;i<o.length;i++)for(var l=0;l<c.length;l++)c[l]===o[i].id&&(n=o[i].name,c[l]=n);return console.log(c),c.length>2?"".concat(c[0],", ").concat(c[1],", Other"):"".concat(c[0],", ").concat(c[1])}document.body.onload=function(){setTimeout((function(){var e=document.getElementById("preloader");e.classList.contains("done")||e.classList.add("done")}),800)};var m={searchForm:document.querySelector(".header_input-wrap"),inputEl:document.querySelector(".header_input"),moviesContainer:document.querySelector(".main-container--card__box"),errorText:document.querySelector(".header_error-msg")},v="",g="https://api.themoviedb.org/3/search/movie",h="2994e3a31c3cad99fd99bf3fe61d916f";function x(e){return _.apply(this,arguments)}function _(){return(_=e(o)(e(c).mark((function t(n){return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(i).get("".concat(g,"?api_key=").concat(h,"&language=en-US&query=").concat(n)).then((function(e){return e.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return(b=e(o)(e(c).mark((function t(n){var r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),v=n.currentTarget.elements.query.value.trim(),m.errorText.classList.add("is-hidden"),""!==v){e.next=5;break}return e.abrupt("return",m.errorText.classList.remove("is-hidden"));case 5:return e.prev=5,e.next=8,x(v);case 8:if(0!==(r=e.sent).total_pages){e.next=11;break}return e.abrupt("return",m.errorText.classList.remove("is-hidden"));case 11:y(),m.errorText.classList.add("is-hidden"),p(r.results),addCurrrentMoviesToLocalStorage(r.results),console.log(r.results),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),console.log(e.t0);case 21:m.inputEl.value="";case 22:case"end":return e.stop()}}),t,null,[[5,18]])})))).apply(this,arguments)}function y(){m.moviesContainer.innerHTML=""}m.searchForm.addEventListener("submit",(function(e){return b.apply(this,arguments)}))}();
//# sourceMappingURL=index.b3290915.js.map

{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BAMA,MAAMC,EAAa,IAAI,EAAAF,EAAAG,SAEjBC,EAAO,CACTC,QAASC,SAASC,cAAc,uBAChCC,MAAOF,SAASC,cAAc,qBAC9BE,eAAgBH,SAASC,cAAc,8BACvCG,UAAWJ,SAASC,cAAc,eAClCI,eAAgBL,SAASC,cAAc,yBAGrCK,EAAkBC,aAAaC,QAAQ,gBACvCC,EAAqBC,KAAKC,MAAML,GAEtC,IAAIM,EAAkB,EA2CtB,SAASC,EAAkBC,GAAO,IAChC,EAAAC,EAAAC,uBACA,MAAMC,EAAYH,GAAc,EAC1BI,EAAY,GAGhB,IAAK,IAAIC,EAAI,EAAGA,GAAKC,KAAKC,KAAKZ,EAAmBa,OAlDlC,IAkDyDH,GAAK,EAAG,CAC7E,IAAII,EAnDQ,GAmDaJ,EACrBK,EAAQL,EAAI,EApDJ,IAoDwBA,EAAI,GAAM,EApDlC,GAqDOA,EAAKV,EAAmBa,SACzCC,EAAMd,EAAmBa,QAG3BJ,EAAUC,GAAMV,EAAmBgB,MAAMD,EAAOD,E,CAGtDX,EAAkBM,EAAUI,OAAS,EACrCxB,EAAKK,eAAeuB,UAAY,IAC9B,EAAAC,EAAAC,kBAAiBV,EAAUD,IAEzBL,EAAkB,IACpBhB,EAAWiC,eAAiBZ,EAC5BrB,EAAWkC,cAAgBlB,EAC3BhB,EAAWmC,YAAclB,EACzBjB,EAAWoC,mB,CA9DflC,EAAKC,QAAQkC,iBAAiB,SAa9B,SAAwBC,GAStB,GARAA,EAAEC,iBACFrC,EAAKK,eAAeuB,UAAY,GAChC5B,EAAKC,QAAQqC,UAAUC,IAAI,eAC3BvC,EAAKI,MAAMkC,UAAUE,OAAO,eAC5BxC,EAAKI,MAAMkC,UAAUC,IAAI,cACzBvC,EAAKC,QAAQqC,UAAUE,OAAO,cAGI,IAA9B7B,EAAmBa,OAWrB,OADAxB,EAAKO,eAAekC,MAAMC,QAAU,OAC7B1C,EAAKM,UAAUgC,UAAUC,IAAI,WAVpC,IACExB,IAEAf,EAAKM,UAAUgC,UAAUE,OAAO,U,CAEhC,MAAOG,GACPC,QAAQC,IAAIF,E,KA1BgB,IAA9BhC,EAAmBa,SACrBxB,EAAKM,UAAUgC,UAAUC,IAAI,WAC7BvC,EAAKO,eAAekC,MAAMC,QAAU,QAItC1C,EAAKM,UAAUgC,UAAUE,OAAO,WAChCzB","sources":["src/js/watched-list.js"],"sourcesContent":["import Pagination from './pagination.js';\nimport {renderMoviesCard} from \"./render-film\"\nimport { preloaderShowLonger } from './loader';\n\n\n\nconst pagination = new Pagination;\n\nconst refs = {\n    watched: document.querySelector('.header_btn-watched'),\n    queue: document.querySelector('.header_btn-queue'),\n    containerMovie: document.querySelector('.main-container--card__box'),\n    emptyPage: document.querySelector('.empty_page'),\n    paginationPage: document.querySelector('#section__pagination'),\n};\n\nconst getMovieStorage = localStorage.getItem('WATCHED_LIST');\nconst totalMovieElements = JSON.parse(getMovieStorage);\nconst countElpage = 10;\nlet totalMoviePages = 0;\n\n\n\n\nrefs.watched.addEventListener('click', onWatchedClick);\n\n\nif (totalMovieElements.length === 0) {\n  refs.emptyPage.classList.add('visible');\n  refs.paginationPage.style.display = \"none\";\n}\n\n\nrefs.emptyPage.classList.remove('visible');\npaginationLibrary();\n\n\nfunction onWatchedClick(e) {\n  e.preventDefault();\n  refs.containerMovie.innerHTML = '';\n  refs.watched.classList.add('current-btn');\n  refs.queue.classList.remove('current-btn');\n  refs.queue.classList.add('simple-btn');\n  refs.watched.classList.remove('simple-btn');\n  \n\n  if (totalMovieElements.length !== 0) {\n    try {\n      paginationLibrary();\n       \n      refs.emptyPage.classList.remove('visible');\n      \n    } catch (e) {\n      console.log(e);\n    }\n  } else { \n    refs.paginationPage.style.display = \"none\";\n    return refs.emptyPage.classList.add('visible');\n  }\n}\n\n\nfunction paginationLibrary(page = false) { \n  preloaderShowLonger();\n  const queryPage = page ? page : 1; \n  const partMovie = [];\n\n \n    for (let i = 1; i <= Math.ceil(totalMovieElements.length / countElpage); i += 1) { \n        let end = (countElpage * i);\n        let start = i > 1 ? (countElpage * (i - 1)) : 0;\n        if ((countElpage * i) > totalMovieElements.length) { \n          end = totalMovieElements.length;\n        }\n\n        partMovie[i] = (totalMovieElements.slice(start, end))\n    }\n    \n  totalMoviePages = partMovie.length - 1;\n  refs.containerMovie.innerHTML = \"\";\n    renderMoviesCard(partMovie[queryPage]);\n    \n  if (totalMoviePages > 1) { \n    pagination.setCurrentPage = queryPage;\n    pagination.setTotalPages = totalMoviePages; \n    pagination.setCallback = paginationLibrary; \n    pagination.renderPagination(); \n      \n  }\n  \n}\n"],"names":["$2nhTy","parcelRequire","$006dc6919d21442f$var$pagination","default","$006dc6919d21442f$var$refs","watched","document","querySelector","queue","containerMovie","emptyPage","paginationPage","$006dc6919d21442f$var$getMovieStorage","localStorage","getItem","$006dc6919d21442f$var$totalMovieElements","JSON","parse","$006dc6919d21442f$var$totalMoviePages","$006dc6919d21442f$var$paginationLibrary","page","$gjiCh","preloaderShowLonger","queryPage","partMovie","i","Math","ceil","length","end","start","slice","innerHTML","$h8fuU","renderMoviesCard","setCurrentPage","setTotalPages","setCallback","renderPagination","addEventListener","e","preventDefault","classList","add","remove","style","display","e1","console","log"],"version":3,"file":"library.7b0f8cc1.js.map"}
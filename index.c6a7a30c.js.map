{"mappings":"qLA+BA,SAASA,EAAWC,GAClB,IAAIC,EAAgB,iBAChBD,EAAKE,WACPD,EAAgBD,EAAKE,UAIvB,MAAO,0KAMuBF,EAAKG,qBACjCH,EAAKI,oJAMgCJ,EAAKI,uMAIoBJ,EAAKK,aAAaC,QACrE,cACWN,EAAKO,sJAISP,EAAKQ,WAAWF,QAAQ,iJAIxBN,EAAKI,oJA/D7C,aAAuBK,IACrB,MAAMC,EAAIC,aAAaC,QAAQ,UACzBC,EAASC,KAAKC,MAAML,GAC1B,IAAIM,EACJ,MAAMC,EAAQ,IAAIR,GAClB,IAAK,IAAIS,EAAI,EAAGA,EAAIL,EAAOM,OAAQD,IACjC,IAAK,IAAIE,EAAI,EAAGA,EAAIH,EAAME,OAAQC,IAC5BH,EAAMG,KAAOP,EAAOK,GAAGG,KACzBL,EAAYH,EAAOK,GAAGI,KACtBL,EAAMG,GAAKJ,GAKjB,OAAqB,IAAjBC,EAAME,OACD,GACmB,IAAjBF,EAAME,OACR,GAAGF,EAAM,KACU,IAAjBA,EAAME,OACR,GAAGF,EAAM,OAAOA,EAAM,KACH,IAAjBA,EAAME,OACR,GAAGF,EAAM,OAAOA,EAAM,OAAOA,EAAM,KAChB,IAAjBA,EAAME,OACR,GAAGF,EAAM,OAAOA,EAAM,OAAOA,EAAM,OAAOA,EAAM,KAC7B,IAAjBA,EAAME,OACR,GAAGF,EAAM,OAAOA,EAAM,OAAOA,EAAM,OAAOA,EAAM,OAAOA,EAAM,UAD/D,C,CA2C+BM,CAAUvB,EAAKwB,oKAKrBvB,6R,iUC1ElCwB,EAAAC,EAAA,SAGA,SAASC,IACPF,EAAAG,QAAKC,MAAMC,UAAUC,IAAI,aACzBN,EAAAG,QAAKI,aAAaC,UAAY,GAC9BC,SAASC,oBAAoB,UAAWC,E,CAU1C,SAASA,GAAQC,KAAEA,IACJ,WAATA,IACFV,IACAO,SAASC,oBAAoB,UAAWC,G,CCf5C,IAAIE,EAAS,GAyBb,SAASC,IACP,MAAMC,EAAI7B,aAAaC,QAAQ,cAE/B,OADcE,KAAKC,MAAMyB,E,CAzBtBF,GACHJ,SAASC,oBAAoB,QAASC,GAGxCX,EAAAG,QAAKa,UAAUC,iBAAiB,SAIhC,SAAqBC,GACnB,GAA0B,QAAtBA,EAAEC,OAAOC,UAA4C,OAAtBF,EAAEC,OAAOC,SAAmB,CAC7DpB,EAAAG,QAAKC,MAAMC,UAAUgB,OAAO,aAC5B,MAAMC,EAASC,OAAOL,EAAEC,OAAOK,QAAQ5B,IAkBtBA,EAhBL0B,EAiBAR,IACRW,MAAKlD,IACT,GAAIA,EAAKqB,KAAOA,EAAI,CAClB,MAAM8B,EAASpD,EAAWC,GAC1ByB,EAAAG,QAAKI,aAAaoB,mBAAmB,YAAaD,E,KALxD,IAAqB9B,EAdnBiB,GAAS,EACLA,GACFJ,SAASQ,iBAAiB,UAAWN,E,IAZzCX,EAAAG,QAAKyB,WAAWX,iBAAiB,QAASf,GAC1CF,EAAAG,QAAKC,MAAMa,iBAAiB,SDH5B,SAAoBC,GACdA,EAAEC,SAAWnB,EAAAG,QAAKC,QACpBF,IACAO,SAASC,oBAAoB,UAAWC,G,ICe5CG","sources":["src/js/render-modal.js","src/js/closeModalFunction.js","src/js/modal-film.js"],"sourcesContent":["export { filmMarkup };\n\nfunction genreById([...arr]) {\n  const g = localStorage.getItem('GENRES');\n  const genres = JSON.parse(g);\n  let genreName;\n  const array = [...arr];\n  for (let i = 0; i < genres.length; i++) {\n    for (let x = 0; x < array.length; x++) {\n      if (array[x] === genres[i].id) {\n        genreName = genres[i].name;\n        array[x] = genreName;\n      }\n    }\n  }\n\n  if (array.length === 0) {\n    return '';\n  } else if (array.length === 1) {\n    return `${array[0]}`;\n  } else if (array.length === 2) {\n    return `${array[0]}, ${array[1]}`;\n  } else if (array.length === 3) {\n    return `${array[0]}, ${array[1]}, ${array[2]}`;\n  } else if (array.length === 4) {\n    return `${array[0]}, ${array[1]}, ${array[2]}, ${array[3]}`;\n  } else if (array.length === 5) {\n    return `${array[0]}, ${array[1]}, ${array[2]}, ${array[3]}, ${array[4]}`;\n  }\n}\n\nfunction filmMarkup(film) {\n  let aboutOverview = 'No information';\n  if (film.overview) {\n    aboutOverview = film.overview;\n  }\n\n  const IMG_URL = 'https://image.tmdb.org/t/p/w500';\n  return `\n  <div class=\"container\">\n      \n      <div class=\"modal-container\">\n        <div class=\"modal-left\">\n      \n          <img src=\"${IMG_URL}${film.poster_path}\" alt=\"${\n    film.original_title\n  }\" class=\"film-image\" />\n      \n        </div>\n        <div class=\"modal-right\">\n      \n          <h2 class=\"film-modal-title\">${film.original_title}</h2>\n          <table class=\"film-info\">\n            <tr>\n              <td class=\"table-name\">Vote / Votes</td>\n             <td class=\"table-value\"><span class=\"rating-value\">${film.vote_average.toFixed(\n               1\n             )}</span>/ ${film.vote_count}</td>\n             </tr>\n            <tr>\n              <td class=\"table-name\">Popularity</td>\n              <td class=\"table-value\">${film.popularity.toFixed(1)}</td>\n            </tr>\n            <tr>\n              <td class=\"table-name\">Original title</td>\n              <td class=\"table-value\">${film.original_title}</td>\n            </tr>\n            <tr>\n              <td class=\"table-name\">Genre</td>\n              <td class=\"table-value\">${genreById(film.genre_ids)}</td>\n            </tr>\n          </table>\n<div class=\"modal-about\">\n          <h3 class=\"about-title\">About</h3>\n          <p class=\"about-desc\">${aboutOverview}</p>\n      </div>\n      <div class=\"modal-button\">\n        <button class=\"btn watched-btn\" type=\"button\">ADD TO WATCHED</button>\n        <button class=\"btn queue-btn\" type=\"button\">ADD TO QUEUE</button>\n      </div>\n          </div>\n        </div>\n      </div>  \n    </div>`;\n}\n","export { outOfModal, escExit, closeModal };\nimport refs from './refs';\n\nfunction closeModal() {\n  refs.modal.classList.add('is-hidden');\n  refs.modalContent.innerHTML = '';\n  document.removeEventListener('keydown', escExit);\n}\n\nfunction outOfModal(e) {\n  if (e.target === refs.modal) {\n    closeModal();\n    document.removeEventListener('keydown', escExit);\n  }\n}\n\nfunction escExit({ code }) {\n  if (code === 'Escape') {\n    closeModal();\n    document.removeEventListener('keydown', escExit);\n  }\n\n  //   ifOpen = false;\n}\n","import { filmMarkup } from './render-modal';\nimport refs from './refs';\nimport { outOfModal, escExit, closeModal } from './closeModalFunction';\n\nlet ifOpen = '';\n\nif (!ifOpen) {\n  document.removeEventListener('click', escExit);\n}\n\nrefs.onBtnOpen.addEventListener('click', onModalOpen);\nrefs.onBtnClose.addEventListener('click', closeModal);\nrefs.modal.addEventListener('click', outOfModal);\n\nfunction onModalOpen(e) {\n  if (e.target.nodeName === 'IMG' || e.target.nodeName === 'H2') {\n    refs.modal.classList.remove('is-hidden');\n    const filmId = Number(e.target.dataset.id);\n\n    getFilmById(filmId);\n  }\n  ifOpen = true;\n  if (ifOpen) {\n    document.addEventListener('keydown', escExit);\n  }\n}\n\ngetFilmFromLocal();\n\nfunction getFilmFromLocal() {\n  const f = localStorage.getItem('MOVIE_LIST');\n  const films = JSON.parse(f);\n  return films;\n}\n\nfunction getFilmById(id) {\n  const films = getFilmFromLocal();\n  films.find(film => {\n    if (film.id === id) {\n      const markup = filmMarkup(film);\n      refs.modalContent.insertAdjacentHTML('beforeend', markup);\n    }\n  });\n}\n"],"names":["$6a9515fde0218557$export$5276146c0c06ec59","film","aboutOverview","overview","poster_path","original_title","vote_average","toFixed","vote_count","popularity","arr","g","localStorage","getItem","genres","JSON","parse","genreName","array","i","length","x","id","name","$6a9515fde0218557$var$genreById","genre_ids","$krGWQ","parcelRequire","$e4398ab7efea6e20$export$3f6fecd573f3fa48","default","modal","classList","add","modalContent","innerHTML","document","removeEventListener","$e4398ab7efea6e20$export$20dfe0a8f5ffe1fc","code","$b89ac968f8ae7162$var$ifOpen","$b89ac968f8ae7162$var$getFilmFromLocal","f","onBtnOpen","addEventListener","e","target","nodeName","remove","filmId","Number","dataset","find","markup","insertAdjacentHTML","onBtnClose"],"version":3,"file":"index.c6a7a30c.js.map"}
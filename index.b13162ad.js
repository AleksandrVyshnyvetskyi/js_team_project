!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o=a("bpxeT"),c=a("2TvXO"),i=a("q7ZX2"),s=a("8nrFW"),l=a("4Nugj");a("4LMMA");var d="https://image.tmdb.org/t/p/w500";function u(e){var t=e.map((function(e){return'\n        <li class="main-container--card"\n        data-modal-open>\n        <img class="card-poster"\n        data-id="'.concat(e.id,'" \n        src="').concat(d).concat(e.poster_path,'" \n        alt="').concat(e.original_name,'" loading="lazy">\n        <div class="card-wrap">\n        <h2 class="card-title" data-id="').concat(e.id,'">').concat(e.original_title.toUpperCase()||e.title.toUpperCase()||e.title.toUpperCase(),'</h2>\n        <p class="card-info"> ').concat(p(e.genre_ids)," | ").concat((e.release_date||first_air_date).slice(0,4),' <span class="card-rating"> ').concat(e.vote_average.toFixed(1),"</span></p>\n         </div>\n    </li>")})).join("");l.default.moviesContainer.insertAdjacentHTML("beforeend",t)}function p(t){for(var n,r=e(i)(t).slice(0),a=localStorage.getItem("GENRES"),o=JSON.parse(a),c=e(s)(r),l=0;l<o.length;l++)for(var d=0;d<c.length;d++)c[d]===o[l].id&&(n=o[l].name,c[d]=n);return console.log(c),c.length>3?"".concat(c[0],", ").concat(c[1],", Other"):c.length>2?"".concat(c[0],", ").concat(c[1],", ").concat(c[2]):c.length>1?"".concat(c[0],", ").concat(c[1]):"".concat(c[0])}document.getElementById("preloader");var f=a("4LMMA"),g=a("jcFG7"),v=a("1h2Gi"),h={searchForm:document.querySelector(".header_input-wrap"),inputEl:document.querySelector(".header_input"),moviesContainer:document.querySelector(".main-container--card__box"),errorText:document.querySelector(".header_error-msg")},m=new(0,v.default),_=new(0,g.default);function x(){return T.apply(this,arguments)}function T(){return T=e(o)(e(c).mark((function t(){var n,r,a=arguments;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]&&a[0],r=n||1,m.setPageNumber=r,e.prev=3,e.next=6,m.fetchSearchMovie().then((function(e){if(0===e.total_pages)return h.errorText.classList.remove("is-hidden");_.setCurrentPage=r,_.setTotalPages=e.total_pages,_.setCallback=x,_.renderPagination(),y(),h.errorText.classList.add("is-hidden"),u(e.results),(0,f.addCurrrentMoviesToLocalStorage)(e.results),console.log(e.total_pages)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),t,null,[[3,8,11,13]])}))),T.apply(this,arguments)}function y(){h.moviesContainer.innerHTML=""}h.searchForm.addEventListener("submit",(function(e){if(e.preventDefault(),m.inputQuery=e.currentTarget.elements.query.value.trim(),""===h.inputEl.value)return h.errorText.classList.remove("is-hidden");h.errorText.classList.add("is-hidden"),x(),h.inputEl.value=""}))}();
//# sourceMappingURL=index.b13162ad.js.map

{"mappings":"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","sources":["src/js/firebase.js"],"sourcesContent":["// import { initializeApp } from 'firebase/app';\n// import {\n//     getAuth,\n//     signInWithEmailAndPassword,\n//     createUserWithEmailAndPassword,\n//     AuthErrorCodes,\n//     onAuthStateChanged,\n//     signOut\n// } from \"firebase/auth\";\n// Modal for authorisation\n\nconst modalOpen = document.querySelector('.modal-open');\nconst modalBox = document.querySelector('.modal-authent__box');\nconst btnAuth = document.querySelector('.auth_btn'); \nconst closeBtn = document.querySelector('.auth-modal-close');\n\nbtnAuth.addEventListener('click', (e) => {\n    e.preventDefault();\n    modalOpen.classList.add('active');\n    modalBox.classList.add('active');\n});\n\ncloseBtn.addEventListener('click', () => {\n    modalOpen.classList.remove('active');\n    modalBox.classList.remove('active');\n});\n\ndocument.addEventListener('click', (e) => {\n    if(e.target === modalOpen) {\n        modalOpen.classList.remove('active');\n        modalBox.classList.remove('active');\n    }\n});\n\n// Authorication script\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAOAAbZA3RU8RhMKF_OMDcBQlQNDXUrEUg\",\n  authDomain: \"filmoteka-team-js-project.firebaseapp.com\",\n  databaseURL: \"https://filmoteka-team-js-project-default-rtdb.europe-west1.firebasedatabase.app\",\n  projectId: \"filmoteka-team-js-project\",\n  storageBucket: \"filmoteka-team-js-project.appspot.com\",\n  messagingSenderId: \"48080784167\",\n  appId: \"1:48080784167:web:4008dc2d03d12f778e7702\",\n  measurementId: \"G-T8P7HD6DV7\"\n};\nconst firebaseApp = initializeApp(firebaseConfig);\nconst auth = getAuth(firebaseApp);\n\nconst createAccount = async () => {\n    const loginEmail = document.getElementById('email').value;\n    const loginPassword = document.getElementById('password').value;\n    console.log(loginEmail);\n    console.log(loginPassword);\n    \n    try {\n        const userCredential = await createUserWithEmailAndPassword(auth, loginEmail, loginPassword);\n        console.log(userCredential.user);\n    } catch (error) {\n        console.log(error.name);\n        console.log(error.message);\n    }\n};\n\nconst registerBtn = document.querySelector('#registerBtn');\nregisterBtn.addEventListener('click', createAccount);\n\nconst logInUser = async () => {\n    const loginEmail = document.getElementById('email').value;\n    const loginPassword = document.getElementById('password').value;\n    console.log(loginEmail);\n    console.log(loginPassword);\n    \n    try {\n        const userCredential = await signInWithEmailAndPassword(auth, loginEmail, loginPassword);\n        console.log(userCredential.user);\n        hideLogInError();\n        showUserState();\n    } catch (error) {\n        console.log(error.name);\n        console.log(error.message);\n        showEmailError(error);\n        showPasswordError(error);\n    }\n};\n\nconst logInBtn = document.querySelector('#logInBtn');\nlogInBtn.addEventListener('click', logInUser);\n\n//LogIn mistake\nconst emailWarningMessage = document.querySelector('.warning-message__email')\nconst passwordWarningMessage = document.querySelector('.warning-message__password');\nconst hideLogInError = () => {\n    emailWarningMessage.style.display = 'none';\n    emailWarningMessage.innerHTML = '';\n    passwordWarningMessage.style.display = 'none';\n    passwordWarningMessage.innerHTML = '';\n};\nconst showEmailError = (error) => {\n    emailWarningMessage.style.display = 'inline-block';\n    if (error.code === AuthErrorCodes.CREDENTIAL_ALREADY_IN_USE) {\n        emailWarningMessage.innerHTML = 'That email already in use.';\n    } else {\n        emailWarningMessage.innerHTML = `Error: ${error.message}`;\n    };\n};\n\nconst showPasswordError = (error) => {\n    passwordWarningMessage.style.display = 'inline-block';\n    if (error.code === AuthErrorCodes.INVALID_PASSWORD) {\n        passwordWarningMessage.innerHTML = 'Wrong password. Try again, please.';\n    } else {\n        passwordWarningMessage.innerHTML = `Error: ${error.message}`;\n    };\n}\n\nconst authState = document.querySelector('.authStatus');\nconst registrationBlock = document.querySelector('.registration')\n\nconst showUserState = () => {\n    const loginEmail = document.getElementById('email').value;\n    registrationBlock.classList.add('visually-hidden');\n    authState.classList.remove('visually-hidden');\n    authState.innerHTML = `You are logged in as ${loginEmail}`;\n};\n\nhideLogInError();\n\n//Authentication status\nconst logOutBtn = document.querySelector('.logOutBtn');\nconst monitorAuthState = async () => {\n    onAuthStateChanged(auth, user => {\n        if (user) {\n            console.log(user);\n        } else {\n\n        };\n    })\n};\nmonitorAuthState();\n\nconst logOut = async () => {\n    await signOut(auth);\n};\n\nlogOutBtn.addEventListener('click', logOut)\n\n"],"names":["$bpxeT","parcelRequire","$db0a627a18027f51$var$modalOpen","document","querySelector","$db0a627a18027f51$var$modalBox","$db0a627a18027f51$var$btnAuth","$db0a627a18027f51$var$closeBtn","addEventListener","e","preventDefault","classList","add","remove","target","$db0a627a18027f51$var$firebaseApp","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","$db0a627a18027f51$var$auth","getAuth","$db0a627a18027f51$var$createAccount","$parcel$interopDefault","$2TvXO","mark","_callee","loginEmail","loginPassword","userCredential","getElementById","value","console","log","createUserWithEmailAndPassword","_ctx","sent","user","t0","name","message","$db0a627a18027f51$var$logInUser","signInWithEmailAndPassword","$db0a627a18027f51$var$hideLogInError","$db0a627a18027f51$var$showUserState","$db0a627a18027f51$var$showEmailError","$db0a627a18027f51$var$showPasswordError","$db0a627a18027f51$var$emailWarningMessage","$db0a627a18027f51$var$passwordWarningMessage","style","display","innerHTML","error","code","AuthErrorCodes","CREDENTIAL_ALREADY_IN_USE","concat","INVALID_PASSWORD","$db0a627a18027f51$var$authState","$db0a627a18027f51$var$registrationBlock","$db0a627a18027f51$var$logOutBtn","$db0a627a18027f51$var$monitorAuthState","onAuthStateChanged","$db0a627a18027f51$var$logOut","signOut"],"version":3,"file":"index.50fd50cd.js.map"}
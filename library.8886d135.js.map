{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_to_array.js","src/js/render-modal.js","src/js/modal-film-forLib.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toArray;\nvar _arrayWithHoles = _interopRequireDefault(require(\"./_array_with_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableRest = _interopRequireDefault(require(\"./_non_iterable_rest\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toArray(arr) {\n    return (0, _arrayWithHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr, i) || (0, _nonIterableRest).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","export { filmMarkup };\n\nfunction genreById([...arr]) {\n  const g = localStorage.getItem('GENRES');\n  const genres = JSON.parse(g);\n  let genreName;\n  const array = [...arr];\n  for (let i = 0; i < genres.length; i++) {\n    for (let x = 0; x < array.length; x++) {\n      if (array[x] === genres[i].id) {\n        genreName = genres[i].name;\n        array[x] = genreName;\n      }\n    }\n  }\n\n  if (array.length === 0) {\n    return '';\n  } else if (array.length === 1) {\n    return `${array[0]}`;\n  } else if (array.length === 2) {\n    return `${array[0]}, ${array[1]}`;\n  } else if (array.length === 3) {\n    return `${array[0]}, ${array[1]}, ${array[2]}`;\n  } else if (array.length === 4) {\n    return `${array[0]}, ${array[1]}, ${array[2]}, ${array[3]}`;\n  } else if (array.length === 5) {\n    return `${array[0]}, ${array[1]}, ${array[2]}, ${array[3]}, ${array[4]}`;\n  }\n}\n\nfunction filmMarkup(film) {\n  const IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\n  let aboutOverview = 'No information';\n  if (film.overview) {\n    aboutOverview = film.overview;\n  }\n\n  return `\n  <div class=\"modal-wrap\">\n      \n      <div class=\"modal-container\">\n        <div class=\"modal-left\">\n      \n          <img src=\"${\n            film.poster_path === null\n              ? 'https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg'\n              : `${IMG_URL}${film.poster_path}`\n          }\"class=\"film-image\" />\n      \n        </div>\n        <div class=\"modal-right\">\n      \n          <h2 class=\"film-modal-title\">${film.original_title}</h2>\n          <table class=\"film-info\">\n            <tr>\n              <td class=\"table-name\">Vote / Votes</td>\n             <td class=\"table-value\"><span class=\"rating-value\">${film.vote_average.toFixed(\n               1\n             )}</span>/ ${film.vote_count}</td>\n             </tr>\n            <tr>\n              <td class=\"table-name\">Popularity</td>\n              <td class=\"table-value\">${film.popularity.toFixed(1)}</td>\n            </tr>\n            <tr>\n              <td class=\"table-name\">Original title</td>\n              <td class=\"table-value\">${film.original_title}</td>\n            </tr>\n            <tr>\n              <td class=\"table-name\">Genre</td>\n              <td class=\"table-value\">${genreById(film.genre_ids)}</td>\n            </tr>\n          </table>\n<div class=\"modal-about\">\n          <h3 class=\"about-title\">About</h3>\n          <p class=\"about-desc\">${aboutOverview}</p>\n      </div>\n      <div class=\"modal-button\">\n        <button class=\"btn watched-btn\" type=\"button\" data-addwatched>ADD TO WATCHED</button>\n         <button class=\"btn watched-btn is-hidden\" type=\"button\" data-removewatched>REMOVE FROM WATCHED</button>\n        <button class=\"btn queue-btn\" type=\"button\" data-addqueue>ADD TO QUEUE</button>\n        <button class=\"btn queue-btn is-hidden\" type=\"button\" data-removequeue>REMOVE FROM QUEUE</button>\n      </div>\n          </div>\n        </div>\n      </div>  \n    </div>`;\n}\n","import { filmMarkup } from './render-modal';\nimport refs from './refs';\nimport { outOfModal, escExit, closeModal } from './closeModalFunction';\nlet ifOpen = '';\n\nif (!ifOpen) {\n  document.removeEventListener('click', escExit);\n}\n\nrefs.containerBox.addEventListener('click', onModalOpen);\nrefs.onBtnClose.addEventListener('click', closeModal);\nrefs.modal.addEventListener('click', outOfModal);\n\nfunction onModalOpen(e) {\n  if (e.target.nodeName === 'IMG' || e.target.nodeName === 'H2') {\n    refs.modal.classList.remove('is-hidden');\n    const filmId = Number(e.target.dataset.id);\n\n    getFilmById(filmId, 'WATCHED_LIST');\n    if (refs.modalContent.textContent === '') {\n      getFilmById(filmId, 'QUEUE_LIST');\n    }\n\n    addListener(filmId);\n    document.body.style.overflowY = 'hidden';\n  }\n  ifOpen = true;\n  if (ifOpen) {\n    document.addEventListener('keydown', escExit);\n  }\n}\n\nfunction getFilmFromLocal(localKey) {\n  const f = localStorage.getItem(localKey);\n  const films = JSON.parse(f);\n  return films;\n}\n\nfunction getFilmById(id, localKey) {\n  const films = getFilmFromLocal(localKey);\n  films.find(film => {\n    if (film.id === id) {\n      const markup = filmMarkup(film);\n      refs.modalContent.insertAdjacentHTML('beforeend', markup);\n    }\n  });\n}\n"],"names":["Object","defineProperty","$04e8a219f790c516$exports","value","default","arr","$04e8a219f790c516$var$_arrayWithHoles","$04e8a219f790c516$var$_iterableToArray","$04e8a219f790c516$var$_unsupportedIterableToArray","i","$04e8a219f790c516$var$_nonIterableRest","$04e8a219f790c516$var$_interopRequireDefault","parcelRequire","obj","__esModule","$04119f8a248c7cd9$export$5276146c0c06ec59","film","aboutOverview","overview","concat","poster_path","original_title","vote_average","toFixed","vote_count","popularity","param","genreName","$parcel$interopDefault","slice","g","localStorage","getItem","genres","JSON","parse","array","$8nrFW","length","x","id","name","$04119f8a248c7cd9$var$genreById","genre_ids","$558382d0eadc7a91$var$ifOpen","$558382d0eadc7a91$var$getFilmById","localKey","films","f","$558382d0eadc7a91$var$getFilmFromLocal","find","markup","$4Nugj","modalContent","insertAdjacentHTML","document","removeEventListener","$FH8Gh","escExit","containerBox","addEventListener","e","target","nodeName","modal","classList","remove","filmId","Number","dataset","textContent","addListener","body","style","overflowY","onBtnClose","closeModal","outOfModal"],"version":3,"file":"library.8886d135.js.map"}
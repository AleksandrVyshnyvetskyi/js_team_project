var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},e.parcelRequired7c6=n);var a=n("krGWQ");n("b5rV1");function o(e){const t=e.map((e=>`\n        <li class="main-container--card"\n        data-modal-open>\n        <img class="card-poster"\n        data-id="${e.id}" \n        src="https://image.tmdb.org/t/p/w500${e.poster_path}" \n        alt="${e.original_name}" loading="lazy">\n        <div class="card-wrap">\n        <h2 class="card-title" data-id="${e.id}">${e.original_title.toUpperCase()||e.title.toUpperCase()||e.title.toUpperCase()}</h2>\n        <p class="card-info"> ${i(e.genre_ids)} | ${(e.release_date||first_air_date).slice(0,4)} <span class="card-rating"> ${e.vote_average.toFixed(1)}</span></p>\n         </div>\n    </li>`)).join("");a.default.moviesContainer.insertAdjacentHTML("beforeend",t)}function i([...e]){const t=localStorage.getItem("GENRES"),r=JSON.parse(t);let n;const a=[...e];for(let e=0;e<r.length;e++)for(let t=0;t<a.length;t++)a[t]===r[e].id&&(n=r[e].name,a[t]=n);return console.log(a),a.length>3?`${a[0]}, ${a[1]}, Other`:a.length>2?`${a[0]}, ${a[1]}, ${a[2]}`:a.length>1?`${a[0]}, ${a[1]}`:`${a[0]}`}n("gjiCh");var s=n("b5rV1"),l=n("2nhTy"),d=n("7me8F");const c={searchForm:document.querySelector(".header_input-wrap"),inputEl:document.querySelector(".header_input"),moviesContainer:document.querySelector(".main-container--card__box"),errorText:document.querySelector(".header_error-msg")},u=new(0,d.default),p=new(0,l.default);async function g(e=!1){const t=e||1;u.setPageNumber=t;try{await u.fetchSearchMovie().then((e=>{if(0===e.total_pages)return c.errorText.classList.remove("is-hidden");p.setCurrentPage=t,p.setTotalPages=e.total_pages,p.setCallback=g,p.renderPagination(),c.moviesContainer.innerHTML="",c.errorText.classList.add("is-hidden"),o(e.results),(0,s.addCurrrentMoviesToLocalStorage)(e.results),console.log(e.total_pages)}))}catch(e){console.log(e)}}c.searchForm.addEventListener("submit",(function(e){if(e.preventDefault(),u.inputQuery=e.currentTarget.elements.query.value.trim(),""===c.inputEl.value)return c.errorText.classList.remove("is-hidden");c.errorText.classList.add("is-hidden"),g(),c.inputEl.value=""}));
//# sourceMappingURL=index.825689df.js.map

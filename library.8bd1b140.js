!function(){function e(e){return e&&e.__esModule?e.default:e}function n(e,n,t,a){Object.defineProperty(e,n,{get:t,set:a,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in r){var n=r[e];delete r[e];var t={id:e,exports:{}};return a[e]=t,n.call(t.exports,t,t.exports),t.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){r[e]=n},t.parcelRequired7c6=o),o.register("4y7rq",(function(t,a){n(t.exports,"renderFilmList",(function(){return S})),n(t.exports,"renderMoviesCard",(function(){return x}));var r=o("bpxeT"),i=o("q7ZX2"),c=o("8nrFW"),l=o("2TvXO"),s=o("dIxxU"),d=o("jcFG7"),u=o("1h2Gi"),p=o("4LMMA"),g=o("kvC6y"),v="2994e3a31c3cad99fd99bf3fe61d916f",f="https://image.tmdb.org/t/p/w500",m={containerBox:document.querySelector(".main-container--card__box"),containerCard:document.querySelector(".main-container--card")},h=(document.querySelector(".main-container--card__box"),document.querySelector(".header_input"),new(0,u.default)),_=new(0,d.default);!function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,g.preloaderShowLonger)();var t=n||1;h.setPageNumber=t,h.fetchPopularMovie().then((function(n){_.setCurrentPage=t,_.setTotalPages=n.total_pages,_.setCallback=e,_.renderPagination(),(0,p.addCurrrentMoviesToLocalStorage)(n.results),S(n.results)}))}();var y,b=(y=e(r)(e(l).mark((function n(){var t;return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(s).get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(v,"&language=en-US"));case 2:return S((t=n.sent).data.results),(0,p.addCurrrentMoviesToLocalStorage)(t.data.results),n.abrupt("return",t.data);case 6:case"end":return n.stop()}}),n)}))),function(){return y.apply(this,arguments)});b();var w=function(){var n=e(r)(e(l).mark((function n(){var t;return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(s).get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(v,"&language=en-US"));case 2:t=n.sent,localStorage.setItem("GENRES",JSON.stringify(t.data.genres));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();function S(e){m.containerBox.innerHTML="";var n=e.map((function(e){var n,t,a=null!==(t=null!==(n=e.release_date)&&void 0!==n?n:e.first_air_date)&&void 0!==t?t:null;return a=null!==a?a.slice(0,4):"",'\n            <li class="main-container--card"\n        data-modal-open>\n        <img class="card-poster"\n        data-id="'.concat(e.id,'" \n        src="').concat(e.poster_path?"".concat(f).concat(e.poster_path):"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg",'"\n        alt="').concat(e.original_name,'" loading="lazy">\n        <div class="card-wrap">\n        <h2 class="card-title" data-id="').concat(e.id,'">').concat(e.original_title.toUpperCase()||e.title.toUpperCase(),'</h2>\n        <p class="card-info"> ').concat(L(e.genre_ids)," | ").concat(a," </p>\n         </div>\n    </li>")})).join("");m.containerBox.innerHTML=n}function x(e){var n=e.map((function(e){var n,t,a=null!==(t=null!==(n=e.release_date)&&void 0!==n?n:e.first_air_date)&&void 0!==t?t:null;return a=null!==a?a.slice(0,4):"",'\n        <li class="main-container--card"\n    data-modal-open>\n    <img class="card-poster"\n    data-id="'.concat(e.id,'" \n    src="').concat(e.poster_path?"".concat(f).concat(e.poster_path):"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg",'"\n    alt="').concat(e.original_name,'" loading="lazy">\n    <div class="card-wrap">\n    <h2 class="card-title" data-id="').concat(e.id,'">').concat(e.original_title.toUpperCase()||e.title.toUpperCase(),'</h2>\n    <p class="card-info"> ').concat(L(e.genre_ids)," | ").concat(a,'<span class="card-rating"> ').concat(e.vote_average.toFixed(1),"</span></p>\n     </div>\n</li>")})).join("");m.moviesContainer.insertAdjacentHTML("beforeend",n)}function L(n){for(var t,a=e(i)(n).slice(0),r=localStorage.getItem("GENRES"),o=JSON.parse(r),l=e(c)(a),s=0;s<o.length;s++)for(var d=0;d<l.length;d++)l[d]===o[s].id&&(t=o[s].name,l[d]=t);return l.length>2?"".concat(l[0],", ").concat(l[1],", Other"):1===l.length?"".concat(l[0]):0===l.length?"No genre":"".concat(l[0],", ").concat(l[1])}w()}));var i=o("jcFG7"),c=o("4y7rq"),l=o("kvC6y"),s=new(0,i.default),d={watched:document.querySelector(".header_btn-watched"),queue:document.querySelector(".header_btn-queue"),containerMovie:document.querySelector(".main-container--card__box"),emptyPage:document.querySelector(".empty_page"),paginationPage:document.querySelector("#section__pagination")},u=localStorage.getItem("QUEUE_LIST"),p=JSON.parse(u),g=10,v=0;function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,l.preloaderShowLonger)();for(var n=e||1,t=[],a=1;a<=Math.ceil(p.length/g);a+=1){var r=g*a,o=a>1?g*(a-1):0;g*a>p.length&&(r=p.length),t[a]=p.slice(o,r)}v=t.length-1,d.containerMovie.innerHTML="",(0,c.renderMoviesCard)(t[n]),v>1&&(s.setCurrentPage=n,s.setTotalPages=v,s.setCallback=f,s.renderPagination())}d.queue.addEventListener("click",(function(e){if(e.preventDefault(),d.containerMovie.innerHTML="",d.queue.classList.add("current-btn"),d.watched.classList.remove("current-btn"),d.queue.classList.remove("simple-btn"),d.watched.classList.add("simple-btn"),0===p.length)return d.emptyPage.classList.add("visible"),void(d.paginationPage.style.display="none");try{f(),d.emptyPage.classList.remove("visible")}catch(e){console.log(e)}})),0===p.length&&(d.emptyPage.classList.add("visible"),d.paginationPage.style.display="none")}();
//# sourceMappingURL=library.8bd1b140.js.map

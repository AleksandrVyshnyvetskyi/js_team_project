{"mappings":"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","sources":["src/js/pagination.js","src/js/local-storage.js","src/js/refs.js"],"sourcesContent":["const containerBox = document.querySelector(`.main-container--card__box`);\nconst pagination = document.querySelector('.pagination');\nconst paginationList = pagination.querySelector('.pagination__list');\nconst paginationPrev = pagination.querySelector('[name=\"prev\"]');\nconst paginationNext = pagination.querySelector('[name=\"next\"]');\nconst sectionPagination = document.getElementById('section__pagination');\n\n\nsectionPagination.style.display = 'none';\n\n\nexport default class Pagination {\n    constructor() {\n        this.currentPage = 1;\n        this.totalPages = 0;\n        this.callback = function () { };\n        this.init();\n    }\n  \n    \n    init() { \n        paginationList.addEventListener('click', this.onClickPages.bind(this));\n        paginationPrev.addEventListener('click', this.onClickBtnPrev.bind(this))\n        paginationNext.addEventListener('click', this.onClickBtnNext.bind(this))\n        window.addEventListener('resize', () => { \n            this.renderPagination();\n        });\n    }\n    // Рендер пагинации\n    renderPagination() { \n        sectionPagination.style.display = 'block';\n        paginationNext.classList.remove('disabled');\n        paginationPrev.classList.remove('disabled');\n\n        \n        // Мобилка\n        if (window.innerWidth < 768) {\n            if (this.currentPage === this.totalPages) {\n                paginationNext.classList.add('disabled')\n            }\n            if (this.currentPage === 1) { \n                paginationPrev.classList.add('disabled')\n            }\n            if (this.totalPages <= 5) { \n                this.createPagination(false, 2, this.totalPages);\n                return;\n            }\n            if (this.totalPages > 5) {\n                if (this.currentPage <= 3) { \n                    this.createPagination(false, 2, 5, false, false);\n                }\n                if (this.currentPage > 3 && this.currentPage < this.totalPages - 1) { \n                    this.createPagination(false, this.currentPage - 2, this.currentPage + 2, false, false, false);\n                    return;\n                }\n                if (this.currentPage > this.totalPages - 2) { \n                    this.createPagination(false, this.totalPages - 5, this.totalPages, false, false, false);\n                } \n            }\n           \n            return;\n        }\n\n        // Десктоп\n        if (this.totalPages === 1) { \n            pagination.classList.add('hidden');\n            return;\n        }\n\n        if (this.totalPages <= 9) { \n            this.createPagination(this.totalPages, 2, this.totalPages - 1);\n            \n        }\n        if (this.totalPages > 9) {\n            if (this.currentPage === 1) {\n                paginationPrev.classList.add('disabled')\n            }\n            if (this.currentPage < 5) {\n                this.createPagination(this.totalPages, 2, 7, false, true);\n                return;\n            }\n            if (this.currentPage > 4 && this.currentPage < this.totalPages - 5) {\n                this.createPagination(this.totalPages, this.currentPage - 2, this.currentPage + 2, true, true);\n                return;\n            }\n            if (this.currentPage !== this.totalPages && this.currentPage > this.totalPages - 6) {\n\n                this.createPagination(this.totalPages, this.totalPages - 6, this.totalPages -1, true, false);\n                return;\n            }\n            if (this.currentPage === this.totalPages) {\n                this.createPagination(this.totalPages, this.currentPage - 6, this.currentPage - 1, true, false);\n                paginationNext.classList.add('disabled')\n                return;\n            }\n\n            \n        }\n     \n    }\n    // Создание пагинации\n    createPagination(lastPage, start, end, leftDots, rightDots, firstPage = 1) { \n        paginationList.innerHTML = '';\n      \n        \n        if (firstPage) { \n             let paginationStart = (this.currentPage === 1) ? ' active' : '';\n             paginationList.insertAdjacentHTML(\"beforeend\", `<button class=\"pagination__link${paginationStart}\" name=\"page\">1</button>`);\n        }\n        \n        if (leftDots) { \n             paginationList.insertAdjacentHTML(\"beforeend\", `<span class=\"pagination__link disabled\">...</span>`); \n        }\n\n\n        for (let i = start; i <= end; i += 1) {\n            let paginationClass = (i == this.currentPage) ? ' active' : '';\n            paginationList.insertAdjacentHTML(\"beforeend\", `<button class=\"pagination__link${paginationClass}\" name=\"page\">${i}</button>`);\n        }\n\n\n        if (rightDots) { \n            \n             paginationList.insertAdjacentHTML(\"beforeend\", `<span class=\"pagination__link disabled\">...</span>`); \n        }\n        if (lastPage) { \n            let paginationEnd = (this.currentPage === this.totalPages) ? ' active' : '';\n            paginationList.insertAdjacentHTML(\"beforeend\", `<button class=\"pagination__link${paginationEnd}\" name=\"page\">${lastPage}</button>`);\n        }\n   \n    }\n\n    // Событие клика по страницам\n    onClickPages(e) { \n       \n        if (e.target.nodeName === 'BUTTON') {\n\n            pagination.classList.add('hidden');\n            containerBox.innerHTML = '';\n            this.currentPage = e.target.textContent * 1;\n            window.scrollTo({\n                top: 0,\n                behavior: \"smooth\"\n            });\n        \n            this.callback(this.currentPage);\n            \n            \n            pagination.classList.remove('hidden');\n        }\n    };\n    // Событие клика по левой кнопке\n    onClickBtnPrev() { \n         \n        if (this.currentPage > 1) { \n            pagination.classList.add('hidden');\n            containerBox.innerHTML = '';\n            window.scrollTo({top: 0,behavior: \"smooth\"});\n            this.currentPage -= 1;\n            this.callback(this.currentPage);\n\n            pagination.classList.remove('hidden');\n        }\n    }\n    // Событие клика по правой кнопке\n    onClickBtnNext() {     \n        if (this.currentPage !== this.totalPages) { \n            pagination.classList.add('hidden');\n            containerBox.innerHTML = '';\n            window.scrollTo({top: 0,behavior: \"smooth\"});\n            this.currentPage += 1;\n            this.callback(this.currentPage);\n \n            pagination.classList.remove('hidden');\n        }\n    }\n\n\n    set setCurrentPage(currentPage) {\n        this.currentPage = currentPage;\n    }\n    set setTotalPages(totalPages) {\n        this.totalPages = totalPages;\n    }\n    set setCallback(callback) {\n        this.callback = callback;\n    }\n}\n\n","import refs from \"./refs\";\n\nfunction addCurrrentMoviesToLocalStorage(array) { \nlocalStorage.setItem(\"MOVIE_LIST\", JSON.stringify(array))\n};\n\n\n// btnAddWatched.addEventListener(\"click\", onAddWatchedClick)\n// btnQueue.addEventListene(\"click\", onQueueClick)\n\n// const watched_movie = [];\n// const queue_movie = [];\n\n// function addWatchedFilmtoLocalStorage (film ){\n//     localStorage.setItem(\"WATCHED\", JSON.stringify(film))\n// }\n// function addQueueFilmtoLocalStorage (film ){\n//     localStorage.setItem(\"QUEUE\", JSON.stringify(film))\n// }\n \n// function onAddWatchedClick(evt) {\n//     film.push(обьект фильма)\n//     addWatchedFilmtoLocalStorage(обьект фильма)\n// };\n \n// function onQueueClick(evt) { \n//     film.push(обьект фильма)\n//     addWatchedFilmtoLocalStorage(обьект фильма)\n// };\n\n\nexport { addCurrrentMoviesToLocalStorage };","export default {\n  // galleryHome: document.querySelector(\".main-container--card__box\"),\n  containerBox: document.querySelector(`.main-container--card__box`),\n  containerCard: document.querySelector(`.main-container--card`),\n  watchedList: document.querySelector('.header_btn-watched'),\n  moviesContainer: document.querySelector('.main-container--card__box'),\n  queueList: document.querySelector('.header_btn-queue'),\n  loader: document.querySelector('.js-loader'),\n  // btnAddWatched: document.querySelector(\".watched-btn\"),\n  // btnQueue: document.querySelector(\".queue-btn\")\n  // MODAL REFS\n  onBtnClose: document.querySelector('button[data-modal-close]'),\n  onBtnOpen: document.querySelector('.main-container--card__box'),\n  modal: document.querySelector('[data-modal]'),\n  modalContainer: document.querySelector('.modal'),\n  modalContent: document.querySelector('.modal-content'),\n  //\n};\n"],"names":["$1bab9c519cfa82bc$var$containerBox","document","querySelector","$1bab9c519cfa82bc$var$pagination","$1bab9c519cfa82bc$var$paginationList","$1bab9c519cfa82bc$var$paginationPrev","$1bab9c519cfa82bc$var$paginationNext","$1bab9c519cfa82bc$var$sectionPagination","getElementById","style","display","$1bab9c519cfa82bc$export$2e2bcd8739ae039","init","addEventListener","this","onClickPages","bind","onClickBtnPrev","onClickBtnNext","window","renderPagination","classList","remove","innerWidth","currentPage","totalPages","add","createPagination","lastPage","start","end","leftDots","rightDots","firstPage","innerHTML","paginationStart","insertAdjacentHTML","i","paginationClass","paginationEnd","e","target","nodeName","textContent","scrollTo","top","behavior","callback","setCurrentPage","setTotalPages","setCallback","constructor","$8125d1701b78b442$export$17c42003be0bef09","array","localStorage","setItem","JSON","stringify","parcelRequire","$ee27a4d7c64fc8c4$export$2e2bcd8739ae039","containerBox","containerCard","watchedList","moviesContainer","queueList","loader","onBtnClose","onBtnOpen","modal","modalContainer","modalContent"],"version":3,"file":"library.96d1bc6d.js.map"}
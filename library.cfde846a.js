!function(){function e(e){return e&&e.__esModule?e.default:e}function a(e,a,n,t){Object.defineProperty(e,a,{get:n,set:t,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,a){r[e]=a},n.parcelRequired7c6=o),o.register("4y7rq",(function(n,t){a(n.exports,"renderFilmList",(function(){return S})),a(n.exports,"renderMoviesCard",(function(){return x}));var r=o("bpxeT"),i=o("q7ZX2"),c=o("8nrFW"),l=o("2TvXO"),s=o("dIxxU"),d=o("jcFG7"),u=o("1h2Gi"),p=o("4LMMA"),g=o("kvC6y"),v="2994e3a31c3cad99fd99bf3fe61d916f",f="https://image.tmdb.org/t/p/w500",m={containerBox:document.querySelector(".main-container--card__box"),containerCard:document.querySelector(".main-container--card")},h=(document.querySelector(".main-container--card__box"),document.querySelector(".header_input"),new(0,u.default)),_=new(0,d.default);!function e(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,g.preloaderShowLonger)();var n=a||1;h.setPageNumber=n,h.fetchPopularMovie().then((function(a){_.setCurrentPage=n,_.setTotalPages=a.total_pages,_.setCallback=e,_.renderPagination(),(0,p.addCurrrentMoviesToLocalStorage)(a.results),S(a.results)}))}();var y,b=(y=e(r)(e(l).mark((function a(){var n;return e(l).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(s).get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(v,"&language=en-US"));case 2:return S((n=a.sent).data.results),(0,p.addCurrrentMoviesToLocalStorage)(n.data.results),a.abrupt("return",n.data);case 6:case"end":return a.stop()}}),a)}))),function(){return y.apply(this,arguments)});b();var w=function(){var a=e(r)(e(l).mark((function a(){var n;return e(l).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(s).get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(v,"&language=en-US"));case 2:n=a.sent,localStorage.setItem("GENRES",JSON.stringify(n.data.genres));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();function S(e){m.containerBox.innerHTML="";var a=e.map((function(e){var a,n,t=null!==(n=null!==(a=e.release_date)&&void 0!==a?a:e.first_air_date)&&void 0!==n?n:null;t=null!==t?t.slice(0,4):"";var r="";return r=e.poster_path?"".concat(f).concat(e.poster_path):"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg",'\n            <li class="main-container--card"\n        data-modal-open>\n        <img class="card-poster"\n        data-id="'.concat(e.id,"\" \n        src='").concat(r,"'\n        alt=\"").concat(e.original_name,'" loading="lazy">\n        <div class="card-wrap">\n        <h2 class="card-title" data-id="').concat(e.id,'">').concat(e.original_title.toUpperCase()||e.title.toUpperCase(),'</h2>\n        <p class="card-info"> ').concat(C(e.genre_ids)," | ").concat(t," </p>\n         </div>\n    </li>")})).join("");m.containerBox.innerHTML=a}function x(e){var a=e.map((function(e){var a,n,t=null!==(n=null!==(a=e.release_date)&&void 0!==a?a:e.first_air_date)&&void 0!==n?n:null;return t=null!==t?t.slice(0,4):"",e.poster_path?'\n        <li class="main-container--card"\n        data-modal-open>\n          <img class="card-poster"\n        data-id="'.concat(e.id,'" \n        src="').concat(f).concat(e.poster_path,'" \n        alt="').concat(e.original_name,'" loading="lazy">\n        <div class="card-wrap">\n        <h2 class="card-title" data-id="').concat(e.id,'">').concat(e.original_title.toUpperCase()||e.title.toUpperCase()||e.title.toUpperCase(),'</h2>\n        <p class="card-info"> ').concat(C(e.genre_ids)," | ").concat(t,' <span class="card-rating"> ').concat(e.vote_average.toFixed(1),"</span></p>\n         </div>\n    </li>"):'\n        <li class="main-container--card"\n        data-modal-open>\n          <img class="card-poster"\n        data-id="'.concat(e.id,'" \n        src="https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg" >\n        <div class="card-wrap">\n        <h2 class="card-title" data-id="').concat(e.id,'">').concat(e.original_title.toUpperCase()||e.title.toUpperCase()||e.title.toUpperCase(),'</h2>\n        <p class="card-info"> ').concat(C(e.genre_ids)," | ").concat(t,' <span class="card-rating"> ').concat(e.vote_average.toFixed(1),"</span></p>\n         </div>\n    </li>")})).join("");m.moviesContainer.insertAdjacentHTML("beforeend",a)}function C(a){for(var n,t=e(i)(a).slice(0),r=localStorage.getItem("GENRES"),o=JSON.parse(r),l=e(c)(t),s=0;s<o.length;s++)for(var d=0;d<l.length;d++)l[d]===o[s].id&&(n=o[s].name,l[d]=n);return l.length>2?"".concat(l[0],", ").concat(l[1],", Other"):1===l.length?"".concat(l[0]):0===l.length?"No genre":"".concat(l[0],", ").concat(l[1])}w()}));var i=o("jcFG7"),c=o("4y7rq"),l=o("kvC6y"),s=new(0,i.default),d={watched:document.querySelector(".header_btn-watched"),queue:document.querySelector(".header_btn-queue"),containerMovie:document.querySelector(".main-container--card__box"),emptyPage:document.querySelector(".empty_page"),paginationPage:document.querySelector("#section__pagination")},u=localStorage.getItem("QUEUE_LIST"),p=JSON.parse(u),g=10,v=0;function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,l.preloaderShowLonger)();for(var a=e||1,n=[],t=1;t<=Math.ceil(p.length/g);t+=1){var r=g*t,o=t>1?g*(t-1):0;g*t>p.length&&(r=p.length),n[t]=p.slice(o,r)}v=n.length-1,d.containerMovie.innerHTML="",(0,c.renderMoviesCard)(n[a]),v>1&&(s.setCurrentPage=a,s.setTotalPages=v,s.setCallback=f,s.renderPagination())}d.queue.addEventListener("click",(function(e){if(e.preventDefault(),d.containerMovie.innerHTML="",d.queue.classList.add("current-btn"),d.watched.classList.remove("current-btn"),d.queue.classList.remove("simple-btn"),d.watched.classList.add("simple-btn"),0===p.length)return d.emptyPage.classList.add("visible"),void(d.paginationPage.style.display="none");try{f(),d.emptyPage.classList.remove("visible")}catch(e){console.log(e)}}))}();
//# sourceMappingURL=library.cfde846a.js.map

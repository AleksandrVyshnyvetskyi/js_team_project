{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,0BAMMC,EAAa,IAAI,EAAAF,EAAAG,SAEjBC,EAAO,CACTC,QAASC,SAASC,cAAc,uBAChCC,MAAOF,SAASC,cAAc,qBAC9BE,eAAgBH,SAASC,cAAc,8BACvCG,UAAWJ,SAASC,cAAc,eAClCI,eAAgBL,SAASC,cAAc,yBAGrCK,EAAkBC,aAAaC,QAAQ,cACvCC,EAAqBC,KAAKC,MAAML,GAChCM,EAAc,GAChBC,EAAkB,EAwCtB,SAASC,I,IAAkBC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,IAAYA,UAAA,IACrC,EAAAE,EAAAC,uBAKE,IAJF,IAAMC,EAAYL,GAAc,EAC1BM,EAAY,GAGPC,EAAI,EAAGA,GAAKC,KAAKC,KAAKf,EAAmBQ,OAASL,GAAcU,GAAK,EAAG,CAC7E,IAAIG,EAAOb,EAAcU,EACrBI,EAAQJ,EAAI,EAAKV,GAAeU,EAAI,GAAM,EAC1CV,EAAeU,EAAKb,EAAmBQ,SACzCQ,EAAMhB,EAAmBQ,QAG3BI,EAAUC,GAAMb,EAAmBkB,MAAMD,EAAOD,E,CAGpDZ,EAAkBQ,EAAUJ,OAAS,EACnCnB,EAAKK,eAAeyB,UAAY,IAClC,EAAAC,EAAAC,kBAAiBT,EAAUD,IAEzBP,EAAkB,IACpBjB,EAAWmC,eAAiBX,EAC5BxB,EAAWoC,cAAgBnB,EACzBjB,EAAWqC,YAAcnB,EAE3BlB,EAAWsC,mB,CA9DfpC,EAAKI,MAAMiC,iBAAiB,SAW5B,SAAsBC,GAQpB,GAPEA,EAAEC,iBACJvC,EAAKK,eAAeyB,UAAY,GAChC9B,EAAKI,MAAMoC,UAAUC,IAAI,eACzBzC,EAAKC,QAAQuC,UAAUE,OAAO,eAC5B1C,EAAKI,MAAMoC,UAAUE,OAAO,cAC5B1C,EAAKC,QAAQuC,UAAUC,IAAI,cAEK,IAA9B9B,EAAmBQ,OAarB,OAHAnB,EAAKM,UAAUkC,UAAUC,IAAI,gBAC7BzC,EAAKO,eAAeoC,MAAMC,QAAU,QAVpC,IACI5B,IAEAhB,EAAKM,UAAUkC,UAAUE,OAAO,U,CAElC,MAAOG,GACPC,QAAQC,IAAIF,E","sources":["src/js/queue-list.js"],"sourcesContent":["import Pagination from './pagination.js';\nimport {renderMoviesCard} from \"./create-markup.js\"\nimport { preloaderShowLonger } from './loader';\n\n\n\nconst pagination = new Pagination;\n\nconst refs = {\n    watched: document.querySelector('.header_btn-watched'),\n    queue: document.querySelector('.header_btn-queue'),\n    containerMovie: document.querySelector('.main-container--card__box'),\n    emptyPage: document.querySelector('.empty_page'),\n    paginationPage: document.querySelector('#section__pagination'),\n};\n\nconst getMovieStorage = localStorage.getItem('QUEUE_LIST');\nconst totalMovieElements = JSON.parse(getMovieStorage);\nconst countElpage = 10;\nlet totalMoviePages = 0;\n\n\nrefs.queue.addEventListener('click', onQueueClick);\n\n// if (totalMovieElements.length === 0) {\n//   refs.emptyPage.classList.add('visible');\n//   refs.paginationPage.style.display = \"none\";\n//   return;\n\n// } \n\n\n\nfunction onQueueClick(e) {\n    e.preventDefault();\n  refs.containerMovie.innerHTML = '';\n  refs.queue.classList.add('current-btn');\n  refs.watched.classList.remove('current-btn');\n    refs.queue.classList.remove('simple-btn');\n    refs.watched.classList.add('simple-btn');\n    \n  if (totalMovieElements.length !== 0) {\n    try {\n        paginationLibrary()\n       \n        refs.emptyPage.classList.remove('visible');\n\n    } catch (e) {\n      console.log(e);\n    }\n  } else { \n    refs.emptyPage.classList.add('visible');\n    refs.paginationPage.style.display = \"none\";\n    \n    return;\n  }\n}\n\n\nfunction paginationLibrary(page = false) { \n  preloaderShowLonger();\n  const queryPage = page ? page : 1; \n  const partMovie = [];\n\n  \n    for (let i = 1; i <= Math.ceil(totalMovieElements.length / countElpage); i += 1) { \n        let end = (countElpage * i);\n        let start = i > 1 ? (countElpage * (i - 1)) : 0;\n        if ((countElpage * i) > totalMovieElements.length) { \n          end = totalMovieElements.length;\n        }\n\n        partMovie[i] = (totalMovieElements.slice(start, end))\n    }\n    \n    totalMoviePages = partMovie.length - 1;\n      refs.containerMovie.innerHTML = \"\";\n    renderMoviesCard(partMovie[queryPage]);\n    \n  if (totalMoviePages > 1) { \n    pagination.setCurrentPage = queryPage;\n    pagination.setTotalPages = totalMoviePages; \n      pagination.setCallback = paginationLibrary; \n      \n    pagination.renderPagination(); \n      \n  }\n  \n}"],"names":["$jcFG7","parcelRequire","$9313be0973dbaa58$var$pagination","default","$9313be0973dbaa58$var$refs","watched","document","querySelector","queue","containerMovie","emptyPage","paginationPage","$9313be0973dbaa58$var$getMovieStorage","localStorage","getItem","$9313be0973dbaa58$var$totalMovieElements","JSON","parse","$9313be0973dbaa58$var$countElpage","$9313be0973dbaa58$var$totalMoviePages","$9313be0973dbaa58$var$paginationLibrary","page","arguments","length","$kvC6y","preloaderShowLonger","queryPage","partMovie","i","Math","ceil","end","start","slice","innerHTML","$dI30Z","renderMoviesCard","setCurrentPage","setTotalPages","setCallback","renderPagination","addEventListener","e","preventDefault","classList","add","remove","style","display","e1","console","log"],"version":3,"file":"library.b1221e94.js.map"}
{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_to_array.js","node_modules/@swc/helpers/lib/_array_with_holes.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_rest.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_to_consumable_array.js","node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","src/js/local-storage.js","src/js/render-modal.js","src/js/modal-buttons.js","src/js/modal-film.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toArray;\nvar _arrayWithHoles = _interopRequireDefault(require(\"./_array_with_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableRest = _interopRequireDefault(require(\"./_non_iterable_rest\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toArray(arr) {\n    return (0, _arrayWithHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr, i) || (0, _nonIterableRest).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithHoles;\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableRest;\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import refs from \"./refs\";\n\nexport default class LocalStorage { \n    constructor(){ \n        this.watched = [];\n        this.queue = [];\n    }\n\n    addToLSwathced(key) { \n      localStorage.setItem(key, JSON.stringify(this.watched));\n    }\n\n\n   addToLSqueue (key) { \n      localStorage.setItem(key, JSON.stringify(this.queue));\n    }\n    \n};\n\nexport function addCurrrentMoviesToLocalStorage(array) { \nlocalStorage.setItem(\"MOVIE_LIST\", JSON.stringify(array))\n};\n\n\n","export { filmMarkup };\n\nfunction genreById([...arr]) {\n  const g = localStorage.getItem('GENRES');\n  const genres = JSON.parse(g);\n  let genreName;\n  const array = [...arr];\n  for (let i = 0; i < genres.length; i++) {\n    for (let x = 0; x < array.length; x++) {\n      if (array[x] === genres[i].id) {\n        genreName = genres[i].name;\n        array[x] = genreName;\n      }\n    }\n  }\n\n  if (array.length === 0) {\n    return '';\n  } else if (array.length === 1) {\n    return `${array[0]}`;\n  } else if (array.length === 2) {\n    return `${array[0]}, ${array[1]}`;\n  } else if (array.length === 3) {\n    return `${array[0]}, ${array[1]}, ${array[2]}`;\n  } else if (array.length === 4) {\n    return `${array[0]}, ${array[1]}, ${array[2]}, ${array[3]}`;\n  } else if (array.length === 5) {\n    return `${array[0]}, ${array[1]}, ${array[2]}, ${array[3]}, ${array[4]}`;\n  }\n}\n\nfunction filmMarkup(film) {\n  const IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\n  let aboutOverview = 'No information';\n  if (film.overview) {\n    aboutOverview = film.overview;\n  }\n\n  return `\n  <div class=\"modal-wrap\">\n      \n      <div class=\"modal-container\">\n        <div class=\"modal-left\">\n      \n          <img src=\"${\n            film.poster_path === null\n              ? 'https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg'\n              : `${IMG_URL}${film.poster_path}`\n          }\"class=\"film-image\" />\n      \n        </div>\n        <div class=\"modal-right\">\n      \n          <h2 class=\"film-modal-title\">${film.original_title}</h2>\n          <table class=\"film-info\">\n            <tr>\n              <td class=\"table-name\">Vote / Votes</td>\n             <td class=\"table-value\"><span class=\"rating-value\">${film.vote_average.toFixed(\n               1\n             )}</span>/ ${film.vote_count}</td>\n             </tr>\n            <tr>\n              <td class=\"table-name\">Popularity</td>\n              <td class=\"table-value\">${film.popularity.toFixed(1)}</td>\n            </tr>\n            <tr>\n              <td class=\"table-name\">Original title</td>\n              <td class=\"table-value\">${film.original_title}</td>\n            </tr>\n            <tr>\n              <td class=\"table-name\">Genre</td>\n              <td class=\"table-value\">${genreById(film.genre_ids)}</td>\n            </tr>\n          </table>\n<div class=\"modal-about\">\n          <h3 class=\"about-title\">About</h3>\n          <p class=\"about-desc\">${aboutOverview}</p>\n      </div>\n      <div class=\"modal-button\">\n        <button class=\"btn watched-btn\" type=\"button\" data-addwatched>ADD TO WATCHED</button>\n         <button class=\"btn watched-btn is-hidden\" type=\"button\" data-removewatched>REMOVE FROM WATCHED</button>\n        <button class=\"btn queue-btn\" type=\"button\" data-addqueue>ADD TO QUEUE</button>\n        <button class=\"btn queue-btn is-hidden\" type=\"button\" data-removequeue>REMOVE FROM QUEUE</button>\n      </div>\n          </div>\n        </div>\n      </div>  \n    </div>`;\n}\n","import refs from \"./refs\";\nimport LocalStorage from './local-storage'\n\nconst MOVIE_LIST_KEY = \"MOVIE_LIST\";\nconst WATCHED_LIST_KEY = \"WATCHED_LIST\"; \nconst QUEUE_LIST_KEY = \"QUEUE_LIST\";\n\n\n\n\nconst localStor = new LocalStorage;\nlet watchedArray = localStor.watched;\nlet queueArray = localStor.queue;\n\nexport function addWathcedListener(filmId) { \n   \n    const btnAddWatched = document.querySelector(\"[data-addwatched]\");\n    const btnRemoveWatched = document.querySelector(\"[data-removewatched]\");\n\n    const isList = localStorage.getItem(WATCHED_LIST_KEY);\n    const isMovieinWatchedList = movieOfWatchedList(filmId);\n    \n   \n    if (!isList) {\n        console.log(\"нету\");\n        btnAddWatched.addEventListener(\"click\", onAddWathedClick);\n    }\n    else if (isMovieinWatchedList) {\n        btnAddWatched.classList.add(\"is-hidden\");\n        btnRemoveWatched.classList.remove(\"is-hidden\");\n        btnRemoveWatched.addEventListener(\"click\", onRemoveWathedClick);\n    }\n    else { btnAddWatched.addEventListener(\"click\", onAddWathedClick); }\n\n\n    \n\n    \n    function onAddWathedClick(e) { \n        e.preventDefault();\n        const film = getObjectbyId(filmId);\n        if (!isMovieinWatchedList || !isList) { \n             localStor.addToLSwathced(WATCHED_LIST_KEY);\n            watchedArray.push(film); \n            btnAddWatched.classList.add(\"is-hidden\");\n            btnRemoveWatched.classList.remove(\"is-hidden\");   \n            btnRemoveWatched.addEventListener(\"click\", onRemoveWathedClick);\n           \n        }\n         localStor.addToLSwathced(WATCHED_LIST_KEY);\n       \n        \n    };\n    \n    function onRemoveWathedClick(e) {\n\n        btnAddWatched.classList.remove(\"is-hidden\");\n        btnRemoveWatched.classList.add(\"is-hidden\");\n        btnAddWatched.addEventListener(\"click\", onAddWathedClick);\n       \n        const film = getObjectbyId(filmId);\n        const watched_list = localStorage.getItem(WATCHED_LIST_KEY);\n        const watched_list_array = JSON.parse(watched_list);\n        const indexFilm = watched_list_array.findIndex(fil => fil.id === film.id);\n        watchedArray.splice(indexFilm, 1);\n        localStorage.setItem(WATCHED_LIST_KEY, JSON.stringify(watchedArray));\n    }\n\n}\n\n\nexport function addQueueListener(filmId) {\n    \n    const btnAddQueue = document.querySelector(\"[data-addqueue]\");\n    const btnRemoveQueue = document.querySelector(\"[data-removequeue]\");\n    \n    const isMovieinQueueList = movieOfQueueList(filmId);\n    const isList = localStorage.getItem(QUEUE_LIST_KEY);\n\n\n     if (!isList) {\n        btnAddQueue.addEventListener(\"click\", onAddQueueClick);\n     }\n     else if (isMovieinQueueList) {\n        btnAddQueue.classList.add(\"is-hidden\");\n        btnRemoveQueue.classList.remove(\"is-hidden\");\n        btnRemoveQueue.addEventListener(\"click\", onRemoveQueueClick);\n    }\n    else { \n           btnAddQueue.addEventListener(\"click\", onAddQueueClick);\n    }\n\n     function onAddQueueClick(e) { \n        e.preventDefault();\n         const film = getObjectbyId(filmId);\n         \n         if (!isMovieinQueueList || isList) { \n            localStor.addToLSqueue(QUEUE_LIST_KEY);\n            queueArray.push(film); \n            btnAddQueue.classList.add(\"is-hidden\");\n            btnRemoveQueue.classList.remove(\"is-hidden\");   \n            btnRemoveQueue.addEventListener(\"click\", onRemoveQueueClick);   \n        }   \n         localStor.addToLSqueue(QUEUE_LIST_KEY);\n\n    }\n\n    function onRemoveQueueClick(e) {\n\n        btnAddQueue.classList.remove(\"is-hidden\");\n        btnRemoveQueue.classList.add(\"is-hidden\");\n        btnAddQueue.addEventListener(\"click\", onAddQueueClick);\n       \n        const film = getObjectbyId(filmId);\n        const queue_list = localStorage.getItem(QUEUE_LIST_KEY);\n        const queue_list_array = JSON.parse(queue_list);\n        const indexFilm = queue_list_array.findIndex(fil => fil.id === film.id);\n        queueArray.splice(indexFilm, 1);\n        localStorage.setItem(QUEUE_LIST_KEY, JSON.stringify(queueArray));\n    }\n\n\n };\n\nfunction movieOfWatchedList(filmid) {\n    const watched_list = localStorage.getItem(WATCHED_LIST_KEY);\n    if (!watched_list) {\n        return null;\n    }\n    else {\n    const watched_list_array = JSON.parse(watched_list);\n   return watched_list_array.find(f => f.id === filmid);\n     }\n \n  \n}; \n\nfunction movieOfQueueList(filmid) {\n    const queue_list = localStorage.getItem(QUEUE_LIST_KEY);\n    if (!queue_list) {\n        return null;\n    } else { \n         const queue_list_array = JSON.parse(queue_list);\n  return queue_list_array.find(f => f.id === filmid);\n    }\n \n};\n\nfunction getObjectbyId(filmId) { \n     const movie_list = localStorage.getItem(MOVIE_LIST_KEY)\n    const array = JSON.parse(movie_list)\n    let objectMovie = array.find(films => films.id === filmId);\n    return objectMovie;\n};\n \n\n\n \n\n\n\n","import { filmMarkup } from './render-modal';\nimport refs from './refs';\nimport { outOfModal, escExit, closeModal } from './closeModalFunction';\nimport { addWathcedListener, addQueueListener } from \"./modal-buttons\";\n\n\nlet ifOpen = '';\n\nif (!ifOpen) {\n  document.removeEventListener('click', escExit);\n}\n\nrefs.onBtnOpen.addEventListener('click', onModalOpen);\nrefs.onBtnClose.addEventListener('click', closeModal);\nrefs.modal.addEventListener('click', outOfModal);\n\nfunction onModalOpen(e) {\n  if (e.target.nodeName === 'IMG' || e.target.nodeName === 'H2') {\n    refs.modal.classList.remove('is-hidden');\n    const filmId = Number(e.target.dataset.id);\n\n    getFilmById(filmId);\n    addWathcedListener(filmId);\n    addQueueListener(filmId);\n\n  }\n  ifOpen = true;\n  if (ifOpen) {\n    document.addEventListener('keydown', escExit);\n  }\n}\n\nfunction getFilmFromLocal(localKey) {\n  const f = localStorage.getItem(localKey);\n  const films = JSON.parse(f);\n  return films;\n}\n\nfunction getFilmById(id, localKey) {\n  const films = getFilmFromLocal(localKey);\n  films.find(film => {\n    if (film.id === id) {\n      const markup = filmMarkup(film);\n      refs.modalContent.insertAdjacentHTML('beforeend', markup);\n    }\n  });\n}\n"],"names":["Object","defineProperty","module","exports","value","default","arr","$04e8a219f790c516$var$_arrayWithHoles","$04e8a219f790c516$var$_iterableToArray","$04e8a219f790c516$var$_unsupportedIterableToArray","i","$04e8a219f790c516$var$_nonIterableRest","$04e8a219f790c516$var$_interopRequireDefault","parcelRequire","obj","__esModule","Array","isArray","iter","Symbol","iterator","from","TypeError","o","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","test","len","length","arr2","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","$f215c72f040a88cf$var$_arrayLikeToArray","$8MBJY","$3791646d3ae2cee8$export$2e2bcd8739ae039","LocalStorage","this","watched","queue","key","localStorage","setItem","JSON","stringify","$3791646d3ae2cee8$export$17c42003be0bef09","array","$q7ZX2","$04119f8a248c7cd9$export$5276146c0c06ec59","film","aboutOverview","overview","concat","poster_path","original_title","vote_average","toFixed","vote_count","popularity","param","genreName","$parcel$interopDefault","g","getItem","genres","parse","$8nrFW","x","id","$04119f8a248c7cd9$var$genreById","genre_ids","$37aee119a386b157$var$WATCHED_LIST_KEY","$37aee119a386b157$var$QUEUE_LIST_KEY","$37aee119a386b157$var$localStor","$4LMMA","$37aee119a386b157$var$watchedArray","$37aee119a386b157$var$queueArray","$37aee119a386b157$export$b76944bfc66230b5","filmId","filmid","watched_list","btnAddWatched","document","querySelector","btnRemoveWatched","isList","isMovieinWatchedList","find","f","onAddWathedClick","e","preventDefault","$37aee119a386b157$var$getObjectbyId","addToLSwathced","push","classList","add","remove","addEventListener","onRemoveWathedClick","indexFilm","findIndex","fil","splice","console","log","$37aee119a386b157$export$d3844f4ab51c5b02","queue_list","btnAddQueue","btnRemoveQueue","isMovieinQueueList","onAddQueueClick","addToLSqueue","onRemoveQueueClick","movie_list","films","$523884499027de00$var$ifOpen","removeEventListener","$FH8Gh","escExit","$4Nugj","onBtnOpen","target","nodeName","modal","Number","dataset","localKey","$523884499027de00$var$getFilmFromLocal","markup","modalContent","insertAdjacentHTML","onBtnClose","closeModal","outOfModal"],"version":3,"file":"library.4fa02884.js.map"}
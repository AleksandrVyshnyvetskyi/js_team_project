{"mappings":"gfAAAA,EAAA,S,WCAAA,EAAA,S,WDEA,IAAMC,EAAO,CACXC,WAAYC,SAASC,cAAc,4BAEnCC,UAAWF,SAASC,cAAc,yBAClCE,MAAOH,SAASC,cAAc,gBAC9BG,eAAgBJ,SAASC,cAAc,UACvCI,aAAcL,SAASC,cAAc,mBAsBvC,SAASK,IACP,IAAMC,EAAIC,aAAaC,QAAQ,cAE/B,OADcC,KAAKC,MAAMJ,GArB3BT,EAAKI,UAAUU,iBAAiB,SAGhC,SAAqBC,GACnB,GAA0B,QAAtBA,EAAEC,OAAOC,UAA4C,OAAtBF,EAAEC,OAAOC,SAAmB,CAC7DjB,EAAKK,MAAMa,UAAUC,OAAO,aAC5B,IAAMC,EAASC,OAAON,EAAEC,OAAOM,QAAQC,IAmBtBA,EAjBLH,EAkBAZ,IACRgB,MAAK,SAAAC,GACT,GAAIA,EAAKF,KAAOA,EAAI,CAClB,IAAMG,ECpBZ,SAAoBD,GAElB,MAAO,2IAMuBE,OAPd,mCAQdA,OAD4BF,EAAKG,YAAY,WAORD,OANrCF,EAAKI,eACN,uIAS+DF,OAJzBF,EAAKI,eAAe,0LAMnCF,OAFwCF,EAAKK,aAAaC,QACrE,GACA,aAIyBJ,OAJdF,EAAKO,WAAW,6IAQFL,OAJAF,EAAKQ,WAAWF,QAAQ,GAAG,gJAQ3BJ,OAJAF,EAAKI,eAAe,uIAS1BF,OALMO,YAAYT,EAAKU,WAAW,2JAKpBR,OAAdF,EAAKW,SAAS,8RDlB3B,CAAWX,GAC1BzB,EAAKO,aAAa8B,mBAAmB,YAAaX,OALxD,IAAqBH,KAxBrBvB,EAAKC,WAAWa,iBAAiB,SAWjC,WACEd,EAAKK,MAAMa,UAAUoB,IAAI,aACzBtC,EAAKO,aAAagC,UAAY,MAGhC/B,I","sources":["src/js/modal-film.js","src/js/render-modal.js"],"sourcesContent":["import { filmMarkup } from './render-modal';\n\nconst refs = {\n  onBtnClose: document.querySelector('button[data-modal-close]'),\n  //   onBtnOpen: document.querySelector('button[data-modal-open]'),\n  onBtnOpen: document.querySelector('.main-container--card'),\n  modal: document.querySelector('[data-modal]'),\n  modalContainer: document.querySelector('.modal'),\n  modalContent: document.querySelector('.modal-content'),\n};\n\nrefs.onBtnOpen.addEventListener('click', onModalOpen);\nrefs.onBtnClose.addEventListener('click', onModalClose);\n\nfunction onModalOpen(e) {\n  if (e.target.nodeName === 'IMG' || e.target.nodeName === 'H2') {\n    refs.modal.classList.remove('is-hidden');\n    const filmId = Number(e.target.dataset.id);\n\n    getFilmById(filmId);\n  }\n}\n\nfunction onModalClose() {\n  refs.modal.classList.add('is-hidden');\n  refs.modalContent.innerHTML = '';\n}\n\ngetFilmFromLocal();\n\nfunction getFilmFromLocal() {\n  const f = localStorage.getItem('MOVIE_LIST');\n  const films = JSON.parse(f);\n  return films;\n}\n\nfunction getFilmById(id) {\n  const films = getFilmFromLocal();\n  films.find(film => {\n    if (film.id === id) {\n      const markup = filmMarkup(film);\n      refs.modalContent.insertAdjacentHTML('beforeend', markup);\n    }\n  });\n}\n\nfunction transformId([...arr]) {\n  const g = localStorage.getItem('GENRES');\n  const genres = JSON.parse(g);\n  let genreName;\n  const array = [...arr];\n  //   console.log(genres);\n  for (let i = 0; i < genres.length; i++) {\n    // console.log(genres[i]);\n    for (let x = 0; x < array.length; x++) {\n      if (array[x] === genres[i].id) {\n        genreName = genres[i].name;\n        array[x] = genreName;\n      }\n    }\n  }\n  console.log(`${array[0]}, ${array[1]}, ${array[2]}`);\n\n  return `${array[0]}, ${array[1]}`;\n}\n// transformId([18, 90, 28]);\n","export { filmMarkup };\n\nfunction genreById([...args]) {\n  const g = localStorage.getItem('GENRES');\n  const genres = JSON.parse(g);\n  let genreName;\n  const array = [...arr];\n  for (let i = 0; i < genres.length; i++) {\n    for (let x = 0; x < array.length; x++) {\n      if (array[x] === genres[i].id) {\n        genreName = genres[i].name;\n        array[x] = genreName;\n      }\n    }\n  }\n  // console.log(array)\n\n  return `${array[0]}, ${array[1]}`;\n}\n\nfunction filmMarkup(film) {\n  const IMG_URL = 'https://image.tmdb.org/t/p/w500';\n  return `\n  <div class=\"container\">\n      \n      <div class=\"modal-container\">\n        <div class=\"modal-left\">\n      \n          <img src=\"${IMG_URL}${film.poster_path}\" alt=\"${\n    film.original_title\n  }\" class=\"film-image\" />\n      \n        </div>\n        <div class=\"modal-right\">\n      \n          <h2 class=\"film-modal-title\">${film.original_title}</h2>\n          <table class=\"film-info\">\n            <tr>\n              <td class=\"table-name\">Vote / Votes</td>\n             <td class=\"table-value\"><span class=\"rating-value\">${film.vote_average.toFixed(\n               1\n             )}</span>/ ${film.vote_count}</td>\n             </tr>\n            <tr>\n              <td class=\"table-name\">Popularity</td>\n              <td class=\"table-value\">${film.popularity.toFixed(1)}</td>\n            </tr>\n            <tr>\n              <td class=\"table-name\">Original title</td>\n              <td class=\"table-value\">${film.original_title}</td>\n            </tr>\n            <tr>\n              <td class=\"table-name\">Genre</td>\n              <td class=\"table-value\">${transformId(film.genre_ids)}</td>\n            </tr>\n          </table>\n<div class=\"modal-about\">\n          <h3 class=\"about-title\">About</h3>\n          <p class=\"about-desc\">${film.overview}</p>\n      </div>\n      <div class=\"modal-button\">\n        <button class=\"btn watched-btn\" type=\"button\">ADD TO WATCHED</button>\n        <button class=\"btn queue-btn\" type=\"button\">ADD TO QUEUE</button>\n      </div>\n          </div>\n        </div>\n      </div>  \n    </div>`;\n}\n"],"names":["parcelRequire","$523884499027de00$var$refs","onBtnClose","document","querySelector","onBtnOpen","modal","modalContainer","modalContent","$523884499027de00$var$getFilmFromLocal","f","localStorage","getItem","JSON","parse","addEventListener","e","target","nodeName","classList","remove","filmId","Number","dataset","id","find","film","markup","concat","poster_path","original_title","vote_average","toFixed","vote_count","popularity","transformId","genre_ids","overview","insertAdjacentHTML","add","innerHTML"],"version":3,"file":"index.503d0aab.js.map"}
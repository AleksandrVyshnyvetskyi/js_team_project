!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequired7c6=r);var o=r("jcFG7"),i=r("bpxeT"),c=r("q7ZX2"),l=r("8nrFW"),s=r("2TvXO"),d=r("dIxxU"),u=(o=r("jcFG7"),r("1h2Gi")),g=r("4LMMA"),p=r("kvC6y"),v="2994e3a31c3cad99fd99bf3fe61d916f",f="https://image.tmdb.org/t/p/w500",m={containerBox:document.querySelector(".main-container--card__box"),containerCard:document.querySelector(".main-container--card")},h=(document.querySelector(".main-container--card__box"),document.querySelector(".header_input"),new(0,u.default)),_=new(0,o.default);!function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,p.preloaderShowLonger)();var n=t||1;h.setPageNumber=n,h.fetchPopularMovie().then((function(t){_.setCurrentPage=n,_.setTotalPages=t.total_pages,_.setCallback=e,_.renderPagination(),(0,g.addCurrrentMoviesToLocalStorage)(t.results),w(t.results)}))}();var y,b=(y=e(i)(e(s).mark((function t(){var n;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(d).get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(v,"&language=en-US"));case 2:return w((n=t.sent).data.results),(0,g.addCurrrentMoviesToLocalStorage)(n.data.results),t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t)}))),function(){return y.apply(this,arguments)});b();var S=function(){var t=e(i)(e(s).mark((function t(){var n;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(d).get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(v,"&language=en-US"));case 2:n=t.sent,localStorage.setItem("GENRES",JSON.stringify(n.data.genres));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function w(e){m.containerBox.innerHTML="";var t=e.map((function(e){var t,n,a=null!==(n=null!==(t=e.release_date)&&void 0!==t?t:e.first_air_date)&&void 0!==n?n:null;a=null!==a?a.slice(0,4):"";var r="";return r=e.poster_path?"".concat(f).concat(e.poster_path):"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg",'\n            <li class="main-container--card"\n        data-modal-open>\n        <img class="card-poster"\n        data-id="'.concat(e.id,"\" \n        src='").concat(r,"'\n        alt=\"").concat(e.original_name,'" loading="lazy">\n        <div class="card-wrap">\n        <h2 class="card-title" data-id="').concat(e.id,'">').concat(e.original_title.toUpperCase()||e.title.toUpperCase(),'</h2>\n        <p class="card-info"> ').concat(x(e.genre_ids)," | ").concat(a," </p>\n         </div>\n    </li>")})).join("");m.containerBox.innerHTML=t}function x(t){for(var n,a=e(c)(t).slice(0),r=localStorage.getItem("GENRES"),o=JSON.parse(r),i=e(l)(a),s=0;s<o.length;s++)for(var d=0;d<i.length;d++)i[d]===o[s].id&&(n=o[s].name,i[d]=n);return i.length>2?"".concat(i[0],", ").concat(i[1],", Other"):1===i.length?"".concat(i[0]):0===i.length?"No genre":"".concat(i[0],", ").concat(i[1])}S();p=r("kvC6y");var L=new(0,o.default),q={watched:document.querySelector(".header_btn-watched"),queue:document.querySelector(".header_btn-queue"),containerMovie:document.querySelector(".main-container--card__box"),emptyPage:document.querySelector(".empty_page"),paginationPage:document.querySelector("#section__pagination")},M=localStorage.getItem("QUEUE_LIST"),T=JSON.parse(M),C=10,P=0;function k(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,p.preloaderShowLonger)();for(var t=e||1,n=[],a=1;a<=Math.ceil(T.length/C);a+=1){var r=C*a,o=a>1?C*(a-1):0;C*a>T.length&&(r=T.length),n[a]=T.slice(o,r)}P=n.length-1,q.containerMovie.innerHTML="",renderMoviesCard(n[t]),P>1&&(L.setCurrentPage=t,L.setTotalPages=P,L.setCallback=k,L.renderPagination())}q.queue.addEventListener("click",(function(e){if(e.preventDefault(),q.containerMovie.innerHTML="",q.queue.classList.add("current-btn"),q.watched.classList.remove("current-btn"),q.queue.classList.remove("simple-btn"),q.watched.classList.add("simple-btn"),0===T.length)return q.emptyPage.classList.add("visible"),void(q.paginationPage.style.display="none");try{k(),q.emptyPage.classList.remove("visible")}catch(e){console.log(e)}}))}();
//# sourceMappingURL=library.116f00e9.js.map

{"mappings":"khBAAA,IAAAA,EAAAC,EAAA,S,aAKMC,EAAa,IAAI,EAAAF,EAAAG,SAEjBC,EAAO,CACTC,QAASC,SAASC,cAAc,uBAChCC,MAAOF,SAASC,cAAc,qBAC9BE,eAAgBH,SAASC,cAAc,8BACvCG,UAAWJ,SAASC,cAAc,eAClCI,eAAgBL,SAASC,cAAc,yBAGrCK,EAAkBC,aAAaC,QAAQ,gBACvCC,EAAqBC,KAAKC,MAAML,GAChCM,EAAc,GAChBC,EAAkB,EAMtB,GAJAC,QAAQC,IAAIN,GAEZX,EAAKC,QAAQiB,iBAAiB,SAY9B,SAAwBC,GAStB,GARAA,EAAEC,iBAEFpB,EAAKC,QAAQoB,UAAUC,IAAI,eAC3BtB,EAAKI,MAAMiB,UAAUE,OAAO,eAC5BvB,EAAKI,MAAMiB,UAAUC,IAAI,cACzBtB,EAAKC,QAAQoB,UAAUE,OAAO,gBAG1BZ,EAAqB,GAUvB,OAAOX,EAAKM,UAAUe,UAAUC,IAAI,WATpC,IACEE,IAEAxB,EAAKM,UAAUe,UAAUE,OAAO,WAEhC,MAAOE,GACPT,QAAQC,IAAIQ,OA1BS,OAAvBd,EAGF,OAFAX,EAAKM,UAAUe,UAAUC,IAAI,gBAC7BtB,EAAKO,eAAec,UAAUC,IAAI,UAgCpC,SAASE,IAKL,I,IALuBE,EAAAC,UAAAC,OAAA,YAAAD,UAAA,IAAYA,UAAA,GAC/BE,EAAYH,GAAc,EAC1BI,EAAY,GAGPC,EAAI,EAAGA,GAAKC,KAAKC,KAAKtB,EAAmBiB,OAASd,GAAciB,GAAK,EAAG,CAC7E,IAAIG,EAAOpB,EAAciB,EACrBI,EAAQJ,EAAI,EAAKjB,GAAeiB,EAAI,GAAM,EAC1CjB,EAAeiB,EAAKpB,EAAmBiB,SACzCM,EAAMvB,EAAmBiB,QAG3BE,EAAUC,GAAMpB,EAAmByB,MAAMD,EAAOD,GAGpDnB,EAAkBe,EAAUF,OAAS,GACrC,EAAAS,EAAAC,kBAAiBR,EAAUD,IAEzBd,EAAkB,IACpBjB,EAAWyC,eAAiBV,EAC5B/B,EAAW0C,cAAgBzB,EAC3BjB,EAAW2C,YAAcjB,EACzB1B,EAAW4C,oBAnDflB,O","sources":["src/js/watched-list.js"],"sourcesContent":["import Pagination from './pagination.js';\nimport {renderMoviesCard} from \"./create-markup.js\"\n\n\n\nconst pagination = new Pagination;\n\nconst refs = {\n    watched: document.querySelector('.header_btn-watched'),\n    queue: document.querySelector('.header_btn-queue'),\n    containerMovie: document.querySelector('.main-container--card__box'),\n    emptyPage: document.querySelector('.empty_page'),\n    paginationPage: document.querySelector('.section__pagination'),\n};\n\nconst getMovieStorage = localStorage.getItem('WATCHED_LIST');\nconst totalMovieElements = JSON.parse(getMovieStorage);\nconst countElpage = 20;\nlet totalMoviePages = 0;\n\nconsole.log(totalMovieElements)\n\nrefs.watched.addEventListener('click', onWatchedClick);\n\nif (totalMovieElements === null) { \n  refs.emptyPage.classList.add('visible');\n  refs.paginationPage.classList.add('hidden');\n  return;\n}\npaginationLibrary();\n\n\n\n\nfunction onWatchedClick(e) {\n  e.preventDefault();\n  // refs.containerMovie.innerHTML = '';\n  refs.watched.classList.add('current-btn');\n  refs.queue.classList.remove('current-btn');\n  refs.queue.classList.add('simple-btn');\n  refs.watched.classList.remove('simple-btn');\n  \n    \n  if (totalMovieElements > 1) {\n    try {\n      paginationLibrary();\n       \n      refs.emptyPage.classList.remove('visible');\n      // refs.paginationPage.classList.remove('hidden');\n    } catch (e) {\n      console.log(e);\n    }\n  } else { \n    return refs.emptyPage.classList.add('visible');\n  }\n}\n\n\nfunction paginationLibrary(page = false) { \n  const queryPage = page ? page : 1; \n  const partMovie = [];\n\n \n    for (let i = 1; i <= Math.ceil(totalMovieElements.length / countElpage); i += 1) { \n        let end = (countElpage * i);\n        let start = i > 1 ? (countElpage * (i - 1)) : 0;\n        if ((countElpage * i) > totalMovieElements.length) { \n          end = totalMovieElements.length;\n        }\n\n        partMovie[i] = (totalMovieElements.slice(start, end))\n    }\n    \n    totalMoviePages = partMovie.length - 1;\n    renderMoviesCard(partMovie[queryPage]);\n    \n  if (totalMoviePages > 1) { \n    pagination.setCurrentPage = queryPage;\n    pagination.setTotalPages = totalMoviePages; \n    pagination.setCallback = paginationLibrary; \n    pagination.renderPagination(); \n      \n  }\n  \n}"],"names":["$jcFG7","parcelRequire","pagination","default","refs","watched","document","querySelector","queue","containerMovie","emptyPage","paginationPage","getMovieStorage","localStorage","getItem","totalMovieElements","JSON","parse","countElpage","totalMoviePages","console","log","addEventListener","e","preventDefault","classList","add","remove","paginationLibrary","e1","page","arguments","length","queryPage","partMovie","i","Math","ceil","end","start","slice","$dI30Z","renderMoviesCard","setCurrentPage","setTotalPages","setCallback","renderPagination"],"version":3,"file":"library.5a2d6e09.js.map"}
function e(e){return e&&e.__esModule?e.default:e}function t(e,t,a,n){Object.defineProperty(e,t,{get:a,set:n,enumerable:!0,configurable:!0})}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=a.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},a.parcelRequired7c6=i),i.register("aNklI",(function(a,n){t(a.exports,"renderFilmList",(function(){return g})),t(a.exports,"renderMoviesCard",(function(){return m}));var r=i("2shzp"),o=i("2nhTy"),l=i("7me8F"),s=i("b5rV1"),d=i("gjiCh");const c={containerBox:document.querySelector(".main-container--card__box"),containerCard:document.querySelector(".main-container--card")},p=(document.querySelector(".main-container--card__box"),document.querySelector(".header_input"),new(0,l.default)),u=new(0,o.default);!function e(t=!1){(0,d.preloaderShowLonger)();const a=t||1;p.setPageNumber=a,p.fetchPopularMovie().then((t=>{u.setCurrentPage=a,u.setTotalPages=t.total_pages,u.setCallback=e,u.renderPagination(),(0,s.addCurrrentMoviesToLocalStorage)(t.results),g(t.results)}))}();(async()=>{const t=await e(r).get("https://api.themoviedb.org/3/trending/movie/day?api_key=2994e3a31c3cad99fd99bf3fe61d916f&language=en-US");g(t.data.results),(0,s.addCurrrentMoviesToLocalStorage)(t.data.results),t.data})();function g(e){c.containerBox.innerHTML="";const t=e.map((e=>{var t,a;let n=null!==(a=null!==(t=e.release_date)&&void 0!==t?t:e.first_air_date)&&void 0!==a?a:null;n=null!==n?n.slice(0,4):"";let r="";return r=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg",`\n            <li class="main-container--card"\n        data-modal-open>\n        <img class="card-poster"\n        data-id="${e.id}" \n        src='${r}'\n        alt="${e.original_name}" loading="lazy">\n        <div class="card-wrap">\n        <h2 class="card-title" data-id="${e.id}">${e.original_title.toUpperCase()||e.title.toUpperCase()}</h2>\n        <p class="card-info"> ${f(e.genre_ids)} | ${n} </p>\n         </div>\n    </li>`})).join("");c.containerBox.innerHTML=t}function m(e){const t=e.map((e=>{var t,a;let n=null!==(a=null!==(t=e.release_date)&&void 0!==t?t:e.first_air_date)&&void 0!==a?a:null;return n=null!==n?n.slice(0,4):"",e.poster_path?`\n        <li class="main-container--card"\n        data-modal-open>\n          <img class="card-poster"\n        data-id="${e.id}" \n        src="https://image.tmdb.org/t/p/w500${e.poster_path}" \n        alt="${e.original_name}" loading="lazy">\n        <div class="card-wrap">\n        <h2 class="card-title" data-id="${e.id}">${e.original_title.toUpperCase()||e.title.toUpperCase()||e.title.toUpperCase()}</h2>\n        <p class="card-info"> ${f(e.genre_ids)} | ${n} <span class="card-rating"> ${e.vote_average.toFixed(1)}</span></p>\n         </div>\n    </li>`:`\n        <li class="main-container--card"\n        data-modal-open>\n          <img class="card-poster"\n        data-id="${e.id}" \n        src="https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg" >\n        <div class="card-wrap">\n        <h2 class="card-title" data-id="${e.id}">${e.original_title.toUpperCase()||e.title.toUpperCase()||e.title.toUpperCase()}</h2>\n        <p class="card-info"> ${f(e.genre_ids)} | ${n} <span class="card-rating"> ${e.vote_average.toFixed(1)}</span></p>\n         </div>\n    </li>`})).join("");c.moviesContainer.insertAdjacentHTML("beforeend",t)}function f([...e]){const t=localStorage.getItem("GENRES"),a=JSON.parse(t);let n;const r=[...e];for(let e=0;e<a.length;e++)for(let t=0;t<r.length;t++)r[t]===a[e].id&&(n=a[e].name,r[t]=n);return r.length>2?`${r[0]}, ${r[1]}, Other`:1===r.length?`${r[0]}`:0===r.length?"No genre":`${r[0]}, ${r[1]}`}(async()=>{const t=await e(r).get("https://api.themoviedb.org/3/genre/movie/list?api_key=2994e3a31c3cad99fd99bf3fe61d916f&language=en-US");localStorage.setItem("GENRES",JSON.stringify(t.data.genres))})()}));var o=i("2nhTy"),l=i("aNklI"),s=i("gjiCh");const d=new(0,o.default),c={watched:document.querySelector(".header_btn-watched"),queue:document.querySelector(".header_btn-queue"),containerMovie:document.querySelector(".main-container--card__box"),emptyPage:document.querySelector(".empty_page"),paginationPage:document.querySelector("#section__pagination")},p=localStorage.getItem("QUEUE_LIST"),u=JSON.parse(p);let g=0;function m(e=!1){(0,s.preloaderShowLonger)();const t=e||1,a=[];for(let e=1;e<=Math.ceil(u.length/10);e+=1){let t=10*e,n=e>1?10*(e-1):0;10*e>u.length&&(t=u.length),a[e]=u.slice(n,t)}g=a.length-1,c.containerMovie.innerHTML="",(0,l.renderMoviesCard)(a[t]),g>1&&(d.setCurrentPage=t,d.setTotalPages=g,d.setCallback=m,d.renderPagination())}c.queue.addEventListener("click",(function(e){if(e.preventDefault(),c.containerMovie.innerHTML="",c.queue.classList.add("current-btn"),c.watched.classList.remove("current-btn"),c.queue.classList.remove("simple-btn"),c.watched.classList.add("simple-btn"),0===u.length)return c.emptyPage.classList.add("visible"),void(c.paginationPage.style.display="none");try{m(),c.emptyPage.classList.remove("visible")}catch(e){console.log(e)}}));
//# sourceMappingURL=library.9f74124e.js.map

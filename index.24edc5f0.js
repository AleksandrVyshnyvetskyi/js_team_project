function e(e){return e&&e.__esModule?e.default:e}function a(e,a,t,n){Object.defineProperty(e,a,{get:t,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var a=r[e];delete r[e];var t={id:e,exports:{}};return n[e]=t,a.call(t.exports,t,t.exports),t.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,a){r[e]=a},t.parcelRequired7c6=i),i.register("aNklI",(function(t,n){a(t.exports,"renderFilmList",(function(){return g})),a(t.exports,"renderMoviesCard",(function(){return f}));var r=i("2shzp"),o=i("2nhTy"),l=i("7me8F"),d=i("b5rV1"),s=i("gjiCh");const c={containerBox:document.querySelector(".main-container--card__box"),containerCard:document.querySelector(".main-container--card")},p=(document.querySelector(".main-container--card__box"),document.querySelector(".header_input"),new(0,l.default)),u=new(0,o.default);!function e(a=!1){(0,s.preloaderShowLonger)();const t=a||1;p.setPageNumber=t,p.fetchPopularMovie().then((a=>{u.setCurrentPage=t,u.setTotalPages=a.total_pages,u.setCallback=e,u.renderPagination(),(0,d.addCurrrentMoviesToLocalStorage)(a.results),g(a.results)}))}();(async()=>{const a=await e(r).get("https://api.themoviedb.org/3/trending/movie/day?api_key=2994e3a31c3cad99fd99bf3fe61d916f&language=en-US");g(a.data.results),(0,d.addCurrrentMoviesToLocalStorage)(a.data.results),a.data})();function g(e){c.containerBox.innerHTML="";const a=e.map((e=>{var a,t;let n=null!==(t=null!==(a=e.release_date)&&void 0!==a?a:e.first_air_date)&&void 0!==t?t:null;return n=null!==n?n.slice(0,4):"",`\n            <li class="main-container--card"\n        data-modal-open>\n        <img class="card-poster"\n        data-id="${e.id}" \n        src="${e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg"}"\n        alt="${e.original_name}" loading="lazy">\n        <div class="card-wrap">\n        <h2 class="card-title" data-id="${e.id}">${e.original_title.toUpperCase()||e.title.toUpperCase()}</h2>\n        <p class="card-info"> ${m(e.genre_ids)} | ${n} </p>\n         </div>\n    </li>`})).join("");c.containerBox.innerHTML=a}function f(e){const a=e.map((e=>{var a,t;let n=null!==(t=null!==(a=e.release_date)&&void 0!==a?a:e.first_air_date)&&void 0!==t?t:null;return n=null!==n?n.slice(0,4):"",`\n        <li class="main-container--card"\n    data-modal-open>\n    <img class="card-poster"\n    data-id="${e.id}" \n    src="${e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg"}"\n    alt="${e.original_name}" loading="lazy">\n    <div class="card-wrap">\n    <h2 class="card-title" data-id="${e.id}">${e.original_title.toUpperCase()||e.title.toUpperCase()}</h2>\n    <p class="card-info"> ${m(e.genre_ids)} | ${n}<span class="card-rating"> ${e.vote_average.toFixed(1)}</span></p>\n     </div>\n</li>`})).join("");c.moviesContainer.insertAdjacentHTML("beforeend",a)}function m([...e]){const a=localStorage.getItem("GENRES"),t=JSON.parse(a);let n;const r=[...e];for(let e=0;e<t.length;e++)for(let a=0;a<r.length;a++)r[a]===t[e].id&&(n=t[e].name,r[a]=n);return r.length>2?`${r[0]}, ${r[1]}, Other`:1===r.length?`${r[0]}`:0===r.length?"No genre":`${r[0]}, ${r[1]}`}(async()=>{const a=await e(r).get("https://api.themoviedb.org/3/genre/movie/list?api_key=2994e3a31c3cad99fd99bf3fe61d916f&language=en-US");localStorage.setItem("GENRES",JSON.stringify(a.data.genres))})()})),i("aNklI");
//# sourceMappingURL=index.24edc5f0.js.map

{"mappings":"AAWA,MAAMA,EAAYC,SAASC,cAAc,eACnCC,EAAWF,SAASC,cAAc,uBAClCE,EAAUH,SAASC,cAAc,aACjCG,EAAWJ,SAASC,cAAc,qBAExCE,EAAQE,iBAAiB,SAAUC,IAC/BA,EAAEC,iBACFR,EAAUS,UAAUC,IAAI,UACxBP,EAASM,UAAUC,IAAI,aAG3BL,EAASC,iBAAiB,SAAS,KAC/BN,EAAUS,UAAUE,OAAO,UAC3BR,EAASM,UAAUE,OAAO,aAG9BV,SAASK,iBAAiB,SAAUC,IAC7BA,EAAEK,SAAWZ,IACZA,EAAUS,UAAUE,OAAO,UAC3BR,EAASM,UAAUE,OAAO,cAMlC,MAUME,EAAcC,cAVG,CACrBC,OAAQ,0CACRC,WAAY,4CACZC,YAAa,mFACbC,UAAW,4BACXC,cAAe,wCACfC,kBAAmB,cACnBC,MAAO,2CACPC,cAAe,iBAGXC,EAAOC,QAAQX,GAiBDZ,SAASC,cAAc,gBAC/BI,iBAAiB,SAhBPmB,UAClB,MAAMC,EAAazB,SAAS0B,eAAe,SAASC,MAC9CC,EAAgB5B,SAAS0B,eAAe,YAAYC,MAC1DE,QAAQC,IAAIL,GACZI,QAAQC,IAAIF,GAEZ,IACI,MAAMG,QAAuBC,+BAA+BV,EAAMG,EAAYG,GAC9EC,QAAQC,IAAIC,EAAeE,MAC7B,MAAOC,GACLL,QAAQC,IAAII,EAAMC,MAClBN,QAAQC,IAAII,EAAME,aA0BTpC,SAASC,cAAc,aAC/BI,iBAAiB,SApBRmB,UACd,MAAMC,EAAazB,SAAS0B,eAAe,SAASC,MAC9CC,EAAgB5B,SAAS0B,eAAe,YAAYC,MAC1DE,QAAQC,IAAIL,GACZI,QAAQC,IAAIF,GAEZ,IACI,MAAMG,QAAuBM,2BAA2Bf,EAAMG,EAAYG,GAC1EC,QAAQC,IAAIC,EAAeE,MAC3BK,IACAC,IACF,MAAOL,GACLL,QAAQC,IAAII,EAAMC,MAClBN,QAAQC,IAAII,EAAME,SAClBI,EAAeN,GACfO,EAAkBP,OAQ1B,MAAMQ,EAAsB1C,SAASC,cAAc,2BAC7C0C,EAAyB3C,SAASC,cAAc,8BAChDqC,EAAiB,KACnBI,EAAoBE,MAAMC,QAAU,OACpCH,EAAoBI,UAAY,GAChCH,EAAuBC,MAAMC,QAAU,OACvCF,EAAuBG,UAAY,IAEjCN,EAAkBN,IACpBQ,EAAoBE,MAAMC,QAAU,eAChCX,EAAMa,OAASC,eAAeC,0BAC9BP,EAAoBI,UAAY,6BAEhCJ,EAAoBI,UAAY,UAAUZ,EAAME,WAIlDK,EAAqBP,IACvBS,EAAuBC,MAAMC,QAAU,eACnCX,EAAMa,OAASC,eAAeE,iBAC9BP,EAAuBG,UAAY,qCAEnCH,EAAuBG,UAAY,UAAUZ,EAAME,WAIrDe,EAAYnD,SAASC,cAAc,eACnCmD,EAAoBpD,SAASC,cAAc,iBAE3CsC,EAAgB,KAClB,MAAMd,EAAazB,SAAS0B,eAAe,SAASC,MACpDyB,EAAkB5C,UAAUC,IAAI,mBAChC0C,EAAU3C,UAAUE,OAAO,mBAC3ByC,EAAUL,UAAY,wBAAwBrB,KAGlDa,IAGA,MAAMe,EAAYrD,SAASC,cAAc,cAChBuB,WACrB8B,mBAAmBhC,GAAMW,IACjBA,GACAJ,QAAQC,IAAIG,OAMxBsB,GAMAF,EAAUhD,iBAAiB,SAJZmB,gBACLgC,QAAQlC","sources":["src/js/firebase.js"],"sourcesContent":["// import { initializeApp } from 'firebase/app';\n// import {\n//     getAuth,\n//     signInWithEmailAndPassword,\n//     createUserWithEmailAndPassword,\n//     AuthErrorCodes,\n//     onAuthStateChanged,\n//     signOut\n// } from \"firebase/auth\";\n// Modal for authorisation\n\nconst modalOpen = document.querySelector('.modal-open');\nconst modalBox = document.querySelector('.modal-authent__box');\nconst btnAuth = document.querySelector('.auth_btn'); \nconst closeBtn = document.querySelector('.auth-modal-close');\n\nbtnAuth.addEventListener('click', (e) => {\n    e.preventDefault();\n    modalOpen.classList.add('active');\n    modalBox.classList.add('active');\n});\n\ncloseBtn.addEventListener('click', () => {\n    modalOpen.classList.remove('active');\n    modalBox.classList.remove('active');\n});\n\ndocument.addEventListener('click', (e) => {\n    if(e.target === modalOpen) {\n        modalOpen.classList.remove('active');\n        modalBox.classList.remove('active');\n    }\n});\n\n// Authorication script\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAOAAbZA3RU8RhMKF_OMDcBQlQNDXUrEUg\",\n  authDomain: \"filmoteka-team-js-project.firebaseapp.com\",\n  databaseURL: \"https://filmoteka-team-js-project-default-rtdb.europe-west1.firebasedatabase.app\",\n  projectId: \"filmoteka-team-js-project\",\n  storageBucket: \"filmoteka-team-js-project.appspot.com\",\n  messagingSenderId: \"48080784167\",\n  appId: \"1:48080784167:web:4008dc2d03d12f778e7702\",\n  measurementId: \"G-T8P7HD6DV7\"\n};\nconst firebaseApp = initializeApp(firebaseConfig);\nconst auth = getAuth(firebaseApp);\n\nconst createAccount = async () => {\n    const loginEmail = document.getElementById('email').value;\n    const loginPassword = document.getElementById('password').value;\n    console.log(loginEmail);\n    console.log(loginPassword);\n    \n    try {\n        const userCredential = await createUserWithEmailAndPassword(auth, loginEmail, loginPassword);\n        console.log(userCredential.user);\n    } catch (error) {\n        console.log(error.name);\n        console.log(error.message);\n    }\n};\n\nconst registerBtn = document.querySelector('#registerBtn');\nregisterBtn.addEventListener('click', createAccount);\n\nconst logInUser = async () => {\n    const loginEmail = document.getElementById('email').value;\n    const loginPassword = document.getElementById('password').value;\n    console.log(loginEmail);\n    console.log(loginPassword);\n    \n    try {\n        const userCredential = await signInWithEmailAndPassword(auth, loginEmail, loginPassword);\n        console.log(userCredential.user);\n        hideLogInError();\n        showUserState();\n    } catch (error) {\n        console.log(error.name);\n        console.log(error.message);\n        showEmailError(error);\n        showPasswordError(error);\n    }\n};\n\nconst logInBtn = document.querySelector('#logInBtn');\nlogInBtn.addEventListener('click', logInUser);\n\n//LogIn mistake\nconst emailWarningMessage = document.querySelector('.warning-message__email')\nconst passwordWarningMessage = document.querySelector('.warning-message__password');\nconst hideLogInError = () => {\n    emailWarningMessage.style.display = 'none';\n    emailWarningMessage.innerHTML = '';\n    passwordWarningMessage.style.display = 'none';\n    passwordWarningMessage.innerHTML = '';\n};\nconst showEmailError = (error) => {\n    emailWarningMessage.style.display = 'inline-block';\n    if (error.code === AuthErrorCodes.CREDENTIAL_ALREADY_IN_USE) {\n        emailWarningMessage.innerHTML = 'That email already in use.';\n    } else {\n        emailWarningMessage.innerHTML = `Error: ${error.message}`;\n    };\n};\n\nconst showPasswordError = (error) => {\n    passwordWarningMessage.style.display = 'inline-block';\n    if (error.code === AuthErrorCodes.INVALID_PASSWORD) {\n        passwordWarningMessage.innerHTML = 'Wrong password. Try again, please.';\n    } else {\n        passwordWarningMessage.innerHTML = `Error: ${error.message}`;\n    };\n}\n\nconst authState = document.querySelector('.authStatus');\nconst registrationBlock = document.querySelector('.registration')\n\nconst showUserState = () => {\n    const loginEmail = document.getElementById('email').value;\n    registrationBlock.classList.add('visually-hidden');\n    authState.classList.remove('visually-hidden');\n    authState.innerHTML = `You are logged in as ${loginEmail}`;\n};\n\nhideLogInError();\n\n//Authentication status\nconst logOutBtn = document.querySelector('.logOutBtn');\nconst monitorAuthState = async () => {\n    onAuthStateChanged(auth, user => {\n        if (user) {\n            console.log(user);\n        } else {\n\n        };\n    })\n};\nmonitorAuthState();\n\nconst logOut = async () => {\n    await signOut(auth);\n};\n\nlogOutBtn.addEventListener('click', logOut)\n\n"],"names":["$1ac6e48565c64d78$var$modalOpen","document","querySelector","$1ac6e48565c64d78$var$modalBox","$1ac6e48565c64d78$var$btnAuth","$1ac6e48565c64d78$var$closeBtn","addEventListener","e","preventDefault","classList","add","remove","target","$1ac6e48565c64d78$var$firebaseApp","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","$1ac6e48565c64d78$var$auth","getAuth","async","loginEmail","getElementById","value","loginPassword","console","log","userCredential","createUserWithEmailAndPassword","user","error","name","message","signInWithEmailAndPassword","$1ac6e48565c64d78$var$hideLogInError","$1ac6e48565c64d78$var$showUserState","$1ac6e48565c64d78$var$showEmailError","$1ac6e48565c64d78$var$showPasswordError","$1ac6e48565c64d78$var$emailWarningMessage","$1ac6e48565c64d78$var$passwordWarningMessage","style","display","innerHTML","code","AuthErrorCodes","CREDENTIAL_ALREADY_IN_USE","INVALID_PASSWORD","$1ac6e48565c64d78$var$authState","$1ac6e48565c64d78$var$registrationBlock","$1ac6e48565c64d78$var$logOutBtn","onAuthStateChanged","$1ac6e48565c64d78$var$monitorAuthState","signOut"],"version":3,"file":"index.5e601bdd.js.map"}